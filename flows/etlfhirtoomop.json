{
    "id": "e41057e7-9b5c-45e9-ab12-3bc9a92d98ea",
    "name": "ETL fhir to omop",
    "edges": [
            {
                "id": "reactflow__edge-bc7f2e99-5533-4719-b86a-1a9a83da684fsource_bc7f2e99-5533-4719-b86a-1a9a83da684f_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "bc7f2e99-5533-4719-b86a-1a9a83da684f",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_bc7f2e99-5533-4719-b86a-1a9a83da684f_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-b52d463b-e05c-44ad-90a9-7ac912b35314source_b52d463b-e05c-44ad-90a9-7ac912b35314_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "b52d463b-e05c-44ad-90a9-7ac912b35314",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_b52d463b-e05c-44ad-90a9-7ac912b35314_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-4a4209c6-84f1-4afe-85a6-2c3aecfee44bsource_4a4209c6-84f1-4afe-85a6-2c3aecfee44b_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "4a4209c6-84f1-4afe-85a6-2c3aecfee44b",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_4a4209c6-84f1-4afe-85a6-2c3aecfee44b_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-fcab0880-2901-49fb-8e3c-e73735a07030source_fcab0880-2901-49fb-8e3c-e73735a07030_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "fcab0880-2901-49fb-8e3c-e73735a07030",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_fcab0880-2901-49fb-8e3c-e73735a07030_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-97d2d719-131e-4e91-9965-5dacc4f77bbasource_97d2d719-131e-4e91-9965-5dacc4f77bba_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "97d2d719-131e-4e91-9965-5dacc4f77bba",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_97d2d719-131e-4e91-9965-5dacc4f77bba_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-644c6dc1-72bf-4f5b-8a64-620407a36e3asource_644c6dc1-72bf-4f5b-8a64-620407a36e3a_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "644c6dc1-72bf-4f5b-8a64-620407a36e3a",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_644c6dc1-72bf-4f5b-8a64-620407a36e3a_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-140dffdd-9b98-46a7-ae23-b2b8a6a79a4esource_140dffdd-9b98-46a7-ae23-b2b8a6a79a4e_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "140dffdd-9b98-46a7-ae23-b2b8a6a79a4e",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_140dffdd-9b98-46a7-ae23-b2b8a6a79a4e_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-c1e62222-8885-4467-811f-52e80cf4e3b6source_c1e62222-8885-4467-811f-52e80cf4e3b6_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "c1e62222-8885-4467-811f-52e80cf4e3b6",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_c1e62222-8885-4467-811f-52e80cf4e3b6_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-230782cf-935e-4354-9c89-db8a2f37bf99source_230782cf-935e-4354-9c89-db8a2f37bf99_dataframe-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any",
                "source": "230782cf-935e-4354-9c89-db8a2f37bf99",
                "target": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "selected": false,
                "sourceHandle": "source_230782cf-935e-4354-9c89-db8a2f37bf99_dataframe",
                "targetHandle": "target_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_any"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-9658364f-9788-4bbd-91f4-2fb8fdde5d1btarget_9658364f-9788-4bbd-91f4-2fb8fdde5d1b_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "9658364f-9788-4bbd-91f4-2fb8fdde5d1b",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_9658364f-9788-4bbd-91f4-2fb8fdde5d1b_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-3c3f5888-5462-4fa6-8e9b-132d06e3e3d5target_3c3f5888-5462-4fa6-8e9b-132d06e3e3d5_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "3c3f5888-5462-4fa6-8e9b-132d06e3e3d5",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_3c3f5888-5462-4fa6-8e9b-132d06e3e3d5_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-227a0e41-40fc-4219-90e5-2c46ea7b1879target_227a0e41-40fc-4219-90e5-2c46ea7b1879_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "227a0e41-40fc-4219-90e5-2c46ea7b1879",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_227a0e41-40fc-4219-90e5-2c46ea7b1879_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-3c69d63f-131c-4ce0-a9cb-a735c1bfd8abtarget_3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-e332b9d8-a600-4d2a-94cb-fff53ab01a5dtarget_e332b9d8-a600-4d2a-94cb-fff53ab01a5d_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "e332b9d8-a600-4d2a-94cb-fff53ab01a5d",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_e332b9d8-a600-4d2a-94cb-fff53ab01a5d_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-5d62e682-992f-4788-8855-5216eebad563target_5d62e682-992f-4788-8855-5216eebad563_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "5d62e682-992f-4788-8855-5216eebad563",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_5d62e682-992f-4788-8855-5216eebad563_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-f67d926f-24be-4a64-848b-8f9e69a5e55etarget_f67d926f-24be-4a64-848b-8f9e69a5e55e_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "f67d926f-24be-4a64-848b-8f9e69a5e55e",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_f67d926f-24be-4a64-848b-8f9e69a5e55e_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-dbb730a1-1499-462e-9d67-4585bb9a9662target_dbb730a1-1499-462e-9d67-4585bb9a9662_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "dbb730a1-1499-462e-9d67-4585bb9a9662",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_dbb730a1-1499-462e-9d67-4585bb9a9662_object"
            },
            {
                "id": "reactflow__edge-1c9c746c-1ef1-4bca-b294-59e8d81f0fe3source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object-f758c084-1da4-4a3c-8f96-af873953b6c6target_f758c084-1da4-4a3c-8f96-af873953b6c6_object",
                "source": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
                "target": "f758c084-1da4-4a3c-8f96-af873953b6c6",
                "selected": false,
                "sourceHandle": "source_1c9c746c-1ef1-4bca-b294-59e8d81f0fe3_object",
                "targetHandle": "target_f758c084-1da4-4a3c-8f96-af873953b6c6_object"
            },
            {
                "id": "reactflow__edge-9658364f-9788-4bbd-91f4-2fb8fdde5d1bsource_9658364f-9788-4bbd-91f4-2fb8fdde5d1b_dataframe-07cfed06-756e-4cb8-b65b-1d763fb4a98ftarget_07cfed06-756e-4cb8-b65b-1d763fb4a98f_dataframe",
                "source": "9658364f-9788-4bbd-91f4-2fb8fdde5d1b",
                "target": "07cfed06-756e-4cb8-b65b-1d763fb4a98f",
                "sourceHandle": "source_9658364f-9788-4bbd-91f4-2fb8fdde5d1b_dataframe",
                "targetHandle": "target_07cfed06-756e-4cb8-b65b-1d763fb4a98f_dataframe"
            },
            {
                "id": "reactflow__edge-f758c084-1da4-4a3c-8f96-af873953b6c6source_f758c084-1da4-4a3c-8f96-af873953b6c6_dataframe-0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3target_0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3_dataframe",
                "source": "f758c084-1da4-4a3c-8f96-af873953b6c6",
                "target": "0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3",
                "sourceHandle": "source_f758c084-1da4-4a3c-8f96-af873953b6c6_dataframe",
                "targetHandle": "target_0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3_dataframe"
            },
            {
                "id": "reactflow__edge-dbb730a1-1499-462e-9d67-4585bb9a9662source_dbb730a1-1499-462e-9d67-4585bb9a9662_dataframe-2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0target_2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0_dataframe",
                "source": "dbb730a1-1499-462e-9d67-4585bb9a9662",
                "target": "2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0",
                "sourceHandle": "source_dbb730a1-1499-462e-9d67-4585bb9a9662_dataframe",
                "targetHandle": "target_2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0_dataframe"
            },
            {
                "id": "reactflow__edge-f67d926f-24be-4a64-848b-8f9e69a5e55esource_f67d926f-24be-4a64-848b-8f9e69a5e55e_dataframe-ab80716e-87b1-479c-bd4e-c95d43b35fe6target_ab80716e-87b1-479c-bd4e-c95d43b35fe6_dataframe",
                "source": "f67d926f-24be-4a64-848b-8f9e69a5e55e",
                "target": "ab80716e-87b1-479c-bd4e-c95d43b35fe6",
                "sourceHandle": "source_f67d926f-24be-4a64-848b-8f9e69a5e55e_dataframe",
                "targetHandle": "target_ab80716e-87b1-479c-bd4e-c95d43b35fe6_dataframe"
            },
            {
                "id": "reactflow__edge-5d62e682-992f-4788-8855-5216eebad563source_5d62e682-992f-4788-8855-5216eebad563_dataframe-b7f82a01-dd6e-4b76-bd72-53d069da2e72target_b7f82a01-dd6e-4b76-bd72-53d069da2e72_dataframe",
                "source": "5d62e682-992f-4788-8855-5216eebad563",
                "target": "b7f82a01-dd6e-4b76-bd72-53d069da2e72",
                "selected": false,
                "sourceHandle": "source_5d62e682-992f-4788-8855-5216eebad563_dataframe",
                "targetHandle": "target_b7f82a01-dd6e-4b76-bd72-53d069da2e72_dataframe"
            },
            {
                "id": "reactflow__edge-3c69d63f-131c-4ce0-a9cb-a735c1bfd8absource_3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab_dataframe-369f82ce-d9bb-40dd-aa10-e6acf3849bc5target_369f82ce-d9bb-40dd-aa10-e6acf3849bc5_dataframe",
                "source": "3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab",
                "target": "369f82ce-d9bb-40dd-aa10-e6acf3849bc5",
                "selected": false,
                "sourceHandle": "source_3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab_dataframe",
                "targetHandle": "target_369f82ce-d9bb-40dd-aa10-e6acf3849bc5_dataframe"
            },
            {
                "id": "reactflow__edge-227a0e41-40fc-4219-90e5-2c46ea7b1879source_227a0e41-40fc-4219-90e5-2c46ea7b1879_dataframe-53923929-57cc-4bac-b644-78348d982bb3target_53923929-57cc-4bac-b644-78348d982bb3_dataframe",
                "source": "227a0e41-40fc-4219-90e5-2c46ea7b1879",
                "target": "53923929-57cc-4bac-b644-78348d982bb3",
                "sourceHandle": "source_227a0e41-40fc-4219-90e5-2c46ea7b1879_dataframe",
                "targetHandle": "target_53923929-57cc-4bac-b644-78348d982bb3_dataframe"
            },
            {
                "id": "reactflow__edge-3c3f5888-5462-4fa6-8e9b-132d06e3e3d5source_3c3f5888-5462-4fa6-8e9b-132d06e3e3d5_dataframe-14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8target_14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8_dataframe",
                "source": "3c3f5888-5462-4fa6-8e9b-132d06e3e3d5",
                "target": "14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8",
                "sourceHandle": "source_3c3f5888-5462-4fa6-8e9b-132d06e3e3d5_dataframe",
                "targetHandle": "target_14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8_dataframe"
            },
            {
                "id": "reactflow__edge-e332b9d8-a600-4d2a-94cb-fff53ab01a5dsource_e332b9d8-a600-4d2a-94cb-fff53ab01a5d_dataframe-9591d4d0-2887-496e-87f9-a4d7ef5c60eftarget_9591d4d0-2887-496e-87f9-a4d7ef5c60ef_dataframe",
                "source": "e332b9d8-a600-4d2a-94cb-fff53ab01a5d",
                "target": "9591d4d0-2887-496e-87f9-a4d7ef5c60ef",
                "selected": false,
                "sourceHandle": "source_e332b9d8-a600-4d2a-94cb-fff53ab01a5d_dataframe",
                "targetHandle": "target_9591d4d0-2887-496e-87f9-a4d7ef5c60ef_dataframe"
            },
            {
                "id": "reactflow__edge-9591d4d0-2887-496e-87f9-a4d7ef5c60efsource_9591d4d0-2887-496e-87f9-a4d7ef5c60ef_dataframe-c4ae2475-ebb4-4bb7-bd92-5e711d93f20dtarget_c4ae2475-ebb4-4bb7-bd92-5e711d93f20d_any",
                "source": "9591d4d0-2887-496e-87f9-a4d7ef5c60ef",
                "target": "c4ae2475-ebb4-4bb7-bd92-5e711d93f20d",
                "sourceHandle": "source_9591d4d0-2887-496e-87f9-a4d7ef5c60ef_dataframe",
                "targetHandle": "target_c4ae2475-ebb4-4bb7-bd92-5e711d93f20d_any"
            },
            {
                "id": "reactflow__edge-c4ae2475-ebb4-4bb7-bd92-5e711d93f20dsource_c4ae2475-ebb4-4bb7-bd92-5e711d93f20d_object-c9ff11c9-d269-4035-b70a-523b4b92ebb6target_c9ff11c9-d269-4035-b70a-523b4b92ebb6_object",
                "source": "c4ae2475-ebb4-4bb7-bd92-5e711d93f20d",
                "target": "c9ff11c9-d269-4035-b70a-523b4b92ebb6",
                "sourceHandle": "source_c4ae2475-ebb4-4bb7-bd92-5e711d93f20d_object",
                "targetHandle": "target_c9ff11c9-d269-4035-b70a-523b4b92ebb6_object"
            },
            {
                "id": "reactflow__edge-c9ff11c9-d269-4035-b70a-523b4b92ebb6source_c9ff11c9-d269-4035-b70a-523b4b92ebb6_dataframe-b3e0cbd2-1680-4d5a-8a58-a74d636f1696target_b3e0cbd2-1680-4d5a-8a58-a74d636f1696_dataframe",
                "source": "c9ff11c9-d269-4035-b70a-523b4b92ebb6",
                "target": "b3e0cbd2-1680-4d5a-8a58-a74d636f1696",
                "sourceHandle": "source_c9ff11c9-d269-4035-b70a-523b4b92ebb6_dataframe",
                "targetHandle": "target_b3e0cbd2-1680-4d5a-8a58-a74d636f1696_dataframe"
            },
            {
                "id": "reactflow__edge-b7f82a01-dd6e-4b76-bd72-53d069da2e72source_b7f82a01-dd6e-4b76-bd72-53d069da2e72_dataframe-fc3206ff-ae52-43ed-8ef7-6d8cb525e698target_fc3206ff-ae52-43ed-8ef7-6d8cb525e698_any",
                "source": "b7f82a01-dd6e-4b76-bd72-53d069da2e72",
                "target": "fc3206ff-ae52-43ed-8ef7-6d8cb525e698",
                "sourceHandle": "source_b7f82a01-dd6e-4b76-bd72-53d069da2e72_dataframe",
                "targetHandle": "target_fc3206ff-ae52-43ed-8ef7-6d8cb525e698_any"
            },
            {
                "id": "reactflow__edge-fc3206ff-ae52-43ed-8ef7-6d8cb525e698source_fc3206ff-ae52-43ed-8ef7-6d8cb525e698_object-97e789e0-8b0b-49be-ad53-588599053812target_97e789e0-8b0b-49be-ad53-588599053812_object",
                "source": "fc3206ff-ae52-43ed-8ef7-6d8cb525e698",
                "target": "97e789e0-8b0b-49be-ad53-588599053812",
                "sourceHandle": "source_fc3206ff-ae52-43ed-8ef7-6d8cb525e698_object",
                "targetHandle": "target_97e789e0-8b0b-49be-ad53-588599053812_object"
            },
            {
                "id": "reactflow__edge-97e789e0-8b0b-49be-ad53-588599053812source_97e789e0-8b0b-49be-ad53-588599053812_dataframe-9fff2d40-4802-46a6-9e9a-7615c47b7754target_9fff2d40-4802-46a6-9e9a-7615c47b7754_dataframe",
                "source": "97e789e0-8b0b-49be-ad53-588599053812",
                "target": "9fff2d40-4802-46a6-9e9a-7615c47b7754",
                "sourceHandle": "source_97e789e0-8b0b-49be-ad53-588599053812_dataframe",
                "targetHandle": "target_9fff2d40-4802-46a6-9e9a-7615c47b7754_dataframe"
            },
            {
                "id": "reactflow__edge-ab80716e-87b1-479c-bd4e-c95d43b35fe6source_ab80716e-87b1-479c-bd4e-c95d43b35fe6_dataframe-7d661465-6ce0-44af-80d7-fd533a1acae9target_7d661465-6ce0-44af-80d7-fd533a1acae9_any",
                "source": "ab80716e-87b1-479c-bd4e-c95d43b35fe6",
                "target": "7d661465-6ce0-44af-80d7-fd533a1acae9",
                "sourceHandle": "source_ab80716e-87b1-479c-bd4e-c95d43b35fe6_dataframe",
                "targetHandle": "target_7d661465-6ce0-44af-80d7-fd533a1acae9_any"
            },
            {
                "id": "reactflow__edge-7d661465-6ce0-44af-80d7-fd533a1acae9source_7d661465-6ce0-44af-80d7-fd533a1acae9_object-09e016fe-ee22-4853-ad40-83917ba84537target_09e016fe-ee22-4853-ad40-83917ba84537_object",
                "source": "7d661465-6ce0-44af-80d7-fd533a1acae9",
                "target": "09e016fe-ee22-4853-ad40-83917ba84537",
                "sourceHandle": "source_7d661465-6ce0-44af-80d7-fd533a1acae9_object",
                "targetHandle": "target_09e016fe-ee22-4853-ad40-83917ba84537_object"
            },
            {
                "id": "reactflow__edge-09e016fe-ee22-4853-ad40-83917ba84537source_09e016fe-ee22-4853-ad40-83917ba84537_dataframe-345c3710-002f-4c6d-843b-94e873927548target_345c3710-002f-4c6d-843b-94e873927548_dataframe",
                "source": "09e016fe-ee22-4853-ad40-83917ba84537",
                "target": "345c3710-002f-4c6d-843b-94e873927548",
                "sourceHandle": "source_09e016fe-ee22-4853-ad40-83917ba84537_dataframe",
                "targetHandle": "target_345c3710-002f-4c6d-843b-94e873927548_dataframe"
            },
            {
                "id": "reactflow__edge-2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0source_2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0_dataframe-ca83c219-1ab9-44bf-9af6-c158e51f7214target_ca83c219-1ab9-44bf-9af6-c158e51f7214_any",
                "source": "2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0",
                "target": "ca83c219-1ab9-44bf-9af6-c158e51f7214",
                "sourceHandle": "source_2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0_dataframe",
                "targetHandle": "target_ca83c219-1ab9-44bf-9af6-c158e51f7214_any"
            },
            {
                "id": "reactflow__edge-ca83c219-1ab9-44bf-9af6-c158e51f7214source_ca83c219-1ab9-44bf-9af6-c158e51f7214_object-cc4c773e-a0bd-4894-9908-00ad541c310dtarget_cc4c773e-a0bd-4894-9908-00ad541c310d_object",
                "source": "ca83c219-1ab9-44bf-9af6-c158e51f7214",
                "target": "cc4c773e-a0bd-4894-9908-00ad541c310d",
                "sourceHandle": "source_ca83c219-1ab9-44bf-9af6-c158e51f7214_object",
                "targetHandle": "target_cc4c773e-a0bd-4894-9908-00ad541c310d_object"
            },
            {
                "id": "reactflow__edge-cc4c773e-a0bd-4894-9908-00ad541c310dsource_cc4c773e-a0bd-4894-9908-00ad541c310d_dataframe-a51a4106-095e-49a8-a868-db5874ed60f5target_a51a4106-095e-49a8-a868-db5874ed60f5_dataframe",
                "source": "cc4c773e-a0bd-4894-9908-00ad541c310d",
                "target": "a51a4106-095e-49a8-a868-db5874ed60f5",
                "sourceHandle": "source_cc4c773e-a0bd-4894-9908-00ad541c310d_dataframe",
                "targetHandle": "target_a51a4106-095e-49a8-a868-db5874ed60f5_dataframe"
            },
            {
                "id": "reactflow__edge-0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3source_0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3_dataframe-43ad560c-fdba-43b6-9236-4baadb718c42target_43ad560c-fdba-43b6-9236-4baadb718c42_any",
                "source": "0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3",
                "target": "43ad560c-fdba-43b6-9236-4baadb718c42",
                "sourceHandle": "source_0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3_dataframe",
                "targetHandle": "target_43ad560c-fdba-43b6-9236-4baadb718c42_any"
            },
            {
                "id": "reactflow__edge-43ad560c-fdba-43b6-9236-4baadb718c42source_43ad560c-fdba-43b6-9236-4baadb718c42_object-e8e268b6-3e03-4468-b386-5e00c6051ca1target_e8e268b6-3e03-4468-b386-5e00c6051ca1_object",
                "source": "43ad560c-fdba-43b6-9236-4baadb718c42",
                "target": "e8e268b6-3e03-4468-b386-5e00c6051ca1",
                "sourceHandle": "source_43ad560c-fdba-43b6-9236-4baadb718c42_object",
                "targetHandle": "target_e8e268b6-3e03-4468-b386-5e00c6051ca1_object"
            },
            {
                "id": "reactflow__edge-e8e268b6-3e03-4468-b386-5e00c6051ca1source_e8e268b6-3e03-4468-b386-5e00c6051ca1_dataframe-cf76f9a9-321b-469f-8779-fc8945fd50f6target_cf76f9a9-321b-469f-8779-fc8945fd50f6_dataframe",
                "source": "e8e268b6-3e03-4468-b386-5e00c6051ca1",
                "target": "cf76f9a9-321b-469f-8779-fc8945fd50f6",
                "sourceHandle": "source_e8e268b6-3e03-4468-b386-5e00c6051ca1_dataframe",
                "targetHandle": "target_cf76f9a9-321b-469f-8779-fc8945fd50f6_dataframe"
            },
            {
                "id": "reactflow__edge-861da43e-01e9-4eac-9136-2547228077f4source_861da43e-01e9-4eac-9136-2547228077f4_dataframe-c59e95aa-1642-4f04-a07d-c19a496aca91target_c59e95aa-1642-4f04-a07d-c19a496aca91_dataframe",
                "source": "861da43e-01e9-4eac-9136-2547228077f4",
                "target": "c59e95aa-1642-4f04-a07d-c19a496aca91",
                "sourceHandle": "source_861da43e-01e9-4eac-9136-2547228077f4_dataframe",
                "targetHandle": "target_c59e95aa-1642-4f04-a07d-c19a496aca91_dataframe"
            },
            {
                "id": "reactflow__edge-07cfed06-756e-4cb8-b65b-1d763fb4a98fsource_07cfed06-756e-4cb8-b65b-1d763fb4a98f_dataframe-a06d966c-271c-4fe7-8fb2-e2c8443dd22etarget_a06d966c-271c-4fe7-8fb2-e2c8443dd22e_any",
                "source": "07cfed06-756e-4cb8-b65b-1d763fb4a98f",
                "target": "a06d966c-271c-4fe7-8fb2-e2c8443dd22e",
                "sourceHandle": "source_07cfed06-756e-4cb8-b65b-1d763fb4a98f_dataframe",
                "targetHandle": "target_a06d966c-271c-4fe7-8fb2-e2c8443dd22e_any"
            },
            {
                "id": "reactflow__edge-a06d966c-271c-4fe7-8fb2-e2c8443dd22esource_a06d966c-271c-4fe7-8fb2-e2c8443dd22e_object-6b6a799b-4e67-47fc-8e1b-6050515bfcfetarget_6b6a799b-4e67-47fc-8e1b-6050515bfcfe_object",
                "source": "a06d966c-271c-4fe7-8fb2-e2c8443dd22e",
                "target": "6b6a799b-4e67-47fc-8e1b-6050515bfcfe",
                "sourceHandle": "source_a06d966c-271c-4fe7-8fb2-e2c8443dd22e_object",
                "targetHandle": "target_6b6a799b-4e67-47fc-8e1b-6050515bfcfe_object"
            },
            {
                "id": "reactflow__edge-6b6a799b-4e67-47fc-8e1b-6050515bfcfesource_6b6a799b-4e67-47fc-8e1b-6050515bfcfe_dataframe-5f6d6ed6-01e1-4186-89cc-6574cd046d40target_5f6d6ed6-01e1-4186-89cc-6574cd046d40_dataframe",
                "source": "6b6a799b-4e67-47fc-8e1b-6050515bfcfe",
                "target": "5f6d6ed6-01e1-4186-89cc-6574cd046d40",
                "sourceHandle": "source_6b6a799b-4e67-47fc-8e1b-6050515bfcfe_dataframe",
                "targetHandle": "target_5f6d6ed6-01e1-4186-89cc-6574cd046d40_dataframe"
            },
            {
                "id": "reactflow__edge-14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8source_14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8_dataframe-0457459b-833a-4563-b702-807031462160target_0457459b-833a-4563-b702-807031462160_any",
                "source": "14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8",
                "target": "0457459b-833a-4563-b702-807031462160",
                "sourceHandle": "source_14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8_dataframe",
                "targetHandle": "target_0457459b-833a-4563-b702-807031462160_any"
            },
            {
                "id": "reactflow__edge-0457459b-833a-4563-b702-807031462160source_0457459b-833a-4563-b702-807031462160_object-bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5target_bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5_object",
                "source": "0457459b-833a-4563-b702-807031462160",
                "target": "bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5",
                "sourceHandle": "source_0457459b-833a-4563-b702-807031462160_object",
                "targetHandle": "target_bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5_object"
            },
            {
                "id": "reactflow__edge-bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5source_bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5_dataframe-4b92d9e9-6a59-459f-8fc5-5a8ff5824bcatarget_4b92d9e9-6a59-459f-8fc5-5a8ff5824bca_dataframe",
                "source": "bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5",
                "target": "4b92d9e9-6a59-459f-8fc5-5a8ff5824bca",
                "sourceHandle": "source_bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5_dataframe",
                "targetHandle": "target_4b92d9e9-6a59-459f-8fc5-5a8ff5824bca_dataframe"
            },
            {
                "id": "reactflow__edge-53923929-57cc-4bac-b644-78348d982bb3source_53923929-57cc-4bac-b644-78348d982bb3_dataframe-2d29943f-969e-4b33-b8a1-48b4172a7bdftarget_2d29943f-969e-4b33-b8a1-48b4172a7bdf_any",
                "source": "53923929-57cc-4bac-b644-78348d982bb3",
                "target": "2d29943f-969e-4b33-b8a1-48b4172a7bdf",
                "sourceHandle": "source_53923929-57cc-4bac-b644-78348d982bb3_dataframe",
                "targetHandle": "target_2d29943f-969e-4b33-b8a1-48b4172a7bdf_any"
            },
            {
                "id": "reactflow__edge-2d29943f-969e-4b33-b8a1-48b4172a7bdfsource_2d29943f-969e-4b33-b8a1-48b4172a7bdf_object-4fbeac17-add6-494f-a75a-4eed55d17c85target_4fbeac17-add6-494f-a75a-4eed55d17c85_object",
                "source": "2d29943f-969e-4b33-b8a1-48b4172a7bdf",
                "target": "4fbeac17-add6-494f-a75a-4eed55d17c85",
                "sourceHandle": "source_2d29943f-969e-4b33-b8a1-48b4172a7bdf_object",
                "targetHandle": "target_4fbeac17-add6-494f-a75a-4eed55d17c85_object"
            },
            {
                "id": "reactflow__edge-4fbeac17-add6-494f-a75a-4eed55d17c85source_4fbeac17-add6-494f-a75a-4eed55d17c85_dataframe-5b177aca-870c-4745-95e1-6305ee390261target_5b177aca-870c-4745-95e1-6305ee390261_dataframe",
                "source": "4fbeac17-add6-494f-a75a-4eed55d17c85",
                "target": "5b177aca-870c-4745-95e1-6305ee390261",
                "sourceHandle": "source_4fbeac17-add6-494f-a75a-4eed55d17c85_dataframe",
                "targetHandle": "target_5b177aca-870c-4745-95e1-6305ee390261_dataframe"
            },
            {
                "id": "reactflow__edge-369f82ce-d9bb-40dd-aa10-e6acf3849bc5source_369f82ce-d9bb-40dd-aa10-e6acf3849bc5_dataframe-1c1853ac-6c80-41c3-8c02-c013f42c4917target_1c1853ac-6c80-41c3-8c02-c013f42c4917_any",
                "source": "369f82ce-d9bb-40dd-aa10-e6acf3849bc5",
                "target": "1c1853ac-6c80-41c3-8c02-c013f42c4917",
                "sourceHandle": "source_369f82ce-d9bb-40dd-aa10-e6acf3849bc5_dataframe",
                "targetHandle": "target_1c1853ac-6c80-41c3-8c02-c013f42c4917_any"
            },
            {
                "id": "reactflow__edge-1c1853ac-6c80-41c3-8c02-c013f42c4917source_1c1853ac-6c80-41c3-8c02-c013f42c4917_object-861da43e-01e9-4eac-9136-2547228077f4target_861da43e-01e9-4eac-9136-2547228077f4_object",
                "source": "1c1853ac-6c80-41c3-8c02-c013f42c4917",
                "target": "861da43e-01e9-4eac-9136-2547228077f4",
                "sourceHandle": "source_1c1853ac-6c80-41c3-8c02-c013f42c4917_object",
                "targetHandle": "target_861da43e-01e9-4eac-9136-2547228077f4_object"
            }
    ],
    "nodes": [
        {
            "id": "bc7f2e99-5533-4719-b86a-1a9a83da684f",
            "data": {
                "name": "AllergyIntolerance",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"AllergyIntolerance\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for AllergyIntolerance resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -930,
                "y": -110
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -930,
                "y": -110
            }
        },
        {
            "id": "5f6d6ed6-01e1-4186-89cc-6574cd046d40",
            "data": {
                "name": "insert_into_omop_observation",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_observation",
                "schemaname": "demo_cdm",
                "dbtablename": "observation",
                "description": "Insert into omop cdm database table",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2570,
                "y": -200
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2570,
                "y": -200
            }
        },
        {
            "id": "b52d463b-e05c-44ad-90a9-7ac912b35314",
            "data": {
                "name": "Patient",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Patient\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Patient resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -1140,
                "y": 170
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -1140,
                "y": 170
            }
        },
        {
            "id": "4b92d9e9-6a59-459f-8fc5-5a8ff5824bca",
            "data": {
                "name": "Insert_into_omop_person",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_person",
                "schemaname": "demo_cdm",
                "dbtablename": "person",
                "description": "Insert into cdm omop database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2590,
                "y": 110
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2590,
                "y": 110
            }
        },
        {
            "id": "4a4209c6-84f1-4afe-85a6-2c3aecfee44b",
            "data": {
                "name": "Condition",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Condition\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Condition resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -1180,
                "y": 450
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -1180,
                "y": 450
            }
        },
        {
            "id": "5b177aca-870c-4745-95e1-6305ee390261",
            "data": {
                "name": "Insert_into_omop_condition_occurrence",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_condition_occurrence",
                "schemaname": "demo_cdm",
                "dbtablename": "condition_occurrence",
                "description": "Insert into omop cdm database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2530,
                "y": 430
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2530,
                "y": 430
            }
        },
        {
            "id": "fcab0880-2901-49fb-8e3c-e73735a07030",
            "data": {
                "name": "Encounter",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Encounter\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Encounter resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -1170,
                "y": 700
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -1170,
                "y": 700
            }
        },
        {
            "id": "c59e95aa-1642-4f04-a07d-c19a496aca91",
            "data": {
                "name": "Insert_into_omop_visit_occurrence",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_visit_occurrence",
                "schemaname": "demo_cdm",
                "dbtablename": "visit_occurrence",
                "description": "Insert into omop cdm database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2490,
                "y": 760
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2490,
                "y": 760
            }
        },
        {
            "id": "97d2d719-131e-4e91-9965-5dacc4f77bba",
            "data": {
                "name": "Immunization",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Immunization\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Immunization resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -1150,
                "y": 960
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -1150,
                "y": 960
            }
        },
        {
            "id": "b3e0cbd2-1680-4d5a-8a58-a74d636f1696",
            "data": {
                "name": "Insert_into_omop_drug_exposure",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_drug_exposure",
                "schemaname": "demo_cdm",
                "dbtablename": "drug_exposure",
                "description": "Insert into omop cdm database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2480,
                "y": 1030
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2480,
                "y": 1030
            }
        },
        {
            "id": "644c6dc1-72bf-4f5b-8a64-620407a36e3a",
            "data": {
                "name": "Observation",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Observation\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Observation resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -1120,
                "y": 1220
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -1120,
                "y": 1220
            }
        },
        {
            "id": "9fff2d40-4802-46a6-9e9a-7615c47b7754",
            "data": {
                "name": "Insert_into_omop_measurement",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_measurement",
                "schemaname": "demo_cdm",
                "dbtablename": "measurement",
                "description": "Insert into omop cdm database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2510,
                "y": 1320
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2510,
                "y": 1320
            }
        },
        {
            "id": "140dffdd-9b98-46a7-ae23-b2b8a6a79a4e",
            "data": {
                "name": "MedicationStatement",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"MedicationStatement\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for MedicationStatement resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -1030,
                "y": 1520
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -1030,
                "y": 1520
            }
        },
        {
            "id": "345c3710-002f-4c6d-843b-94e873927548",
            "data": {
                "name": "Insert_into_omop_drug_exposure",
                "database": "demo_database",
                "dataframe": "py2table_to_drug_exposure",
                "schemaname": "demo_cdm",
                "dbtablename": "drug_exposure",
                "description": "Insert into omop cdm database"
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2530,
                "y": 1580
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2530,
                "y": 1580
            }
        },
        {
            "id": "c1e62222-8885-4467-811f-52e80cf4e3b6",
            "data": {
                "name": "Observation",
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Observation\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Observation resource"
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -860,
                "y": 1840
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -860,
                "y": 1840
            }
        },
        {
            "id": "a51a4106-095e-49a8-a868-db5874ed60f5",
            "data": {
                "name": "Insert_into_omop_observation",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_observation",
                "schemaname": "demo_cdm",
                "dbtablename": "observation",
                "description": "Insert into omop cdm database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2540,
                "y": 1860
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2540,
                "y": 1860
            }
        },
        {
            "id": "230782cf-935e-4354-9c89-db8a2f37bf99",
            "data": {
                "name": "Procedure",
                "error": false,
                "database": "d2e_fhir",
                "sqlquery": "select content from \"fhir\".\"Procedure\"",
                "testdata": [
                    []
                ],
                "description": "Get fhir data for Procedure resource",
                "errorMessage": null
            },
            "type": "db_reader_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -780,
                "y": 2170
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -780,
                "y": 2170
            }
        },
        {
            "id": "cf76f9a9-321b-469f-8779-fc8945fd50f6",
            "data": {
                "name": "Insert_into_omop_procedure_occurrence",
                "error": false,
                "database": "demo_database",
                "dataframe": "py2table_to_procedure_occurrence",
                "schemaname": "demo_cdm",
                "dbtablename": "procedure_occurrence",
                "description": "Insert into omop cdm database",
                "errorMessage": null
            },
            "type": "db_writer_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 2590,
                "y": 2180
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 2590,
                "y": 2180
            }
        },
        {
            "id": "1c9c746c-1ef1-4bca-b294-59e8d81f0fe3",
            "data": {
                "name": "python_node",
                "error": false,
                "description": "Describe the task of node python_node_0",
                "python_code": "def exec(myinput):\n  transformed = {}\n  for key, result_obj in myinput.items():\n    transformed[key] = result_obj.result\n  return transformed\ndef test_exec(myinput):\n  return \"This is test_exec function\"",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": -420,
                "y": 930
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": -420,
                "y": 930
            }
        },
        {
            "id": "9658364f-9788-4bbd-91f4-2fb8fdde5d1b",
            "data": {
                "map": {},
                "name": "AllergyIntolerance_df",
                "error": false,
                "uiMap": {
                    "path": "$.AllergyIntolerance",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_0",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 20,
                "y": -120
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 20,
                "y": -120
            }
        },
        {
            "id": "3c3f5888-5462-4fa6-8e9b-132d06e3e3d5",
            "data": {
                "map": {},
                "name": "Patient_df",
                "error": false,
                "uiMap": {
                    "path": "$.Patient",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_1",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 130,
                "y": 170
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 130,
                "y": 170
            }
        },
        {
            "id": "227a0e41-40fc-4219-90e5-2c46ea7b1879",
            "data": {
                "map": {},
                "name": "Condition_df",
                "error": false,
                "uiMap": {
                    "path": "$.Condition",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_2",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 150,
                "y": 450
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 150,
                "y": 450
            }
        },
        {
            "id": "3c69d63f-131c-4ce0-a9cb-a735c1bfd8ab",
            "data": {
                "map": {},
                "name": "Encounter_df",
                "error": false,
                "uiMap": {
                    "path": "$.Encounter",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_3",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 140,
                "y": 740
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 140,
                "y": 740
            }
        },
        {
            "id": "e332b9d8-a600-4d2a-94cb-fff53ab01a5d",
            "data": {
                "map": {},
                "name": "Immunization_df",
                "error": false,
                "uiMap": {
                    "path": "$.Immunization",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_4",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 140,
                "y": 1010
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 140,
                "y": 1010
            }
        },
        {
            "id": "5d62e682-992f-4788-8855-5216eebad563",
            "data": {
                "map": {},
                "name": "Observation_df",
                "error": false,
                "uiMap": {
                    "path": "$.Observation",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_5",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 140,
                "y": 1310
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 140,
                "y": 1310
            }
        },
        {
            "id": "f67d926f-24be-4a64-848b-8f9e69a5e55e",
            "data": {
                "map": {},
                "name": "MedicationStatement_df",
                "error": false,
                "uiMap": {
                    "path": "$.MedicationStatement",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_6",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 140,
                "y": 1600
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 140,
                "y": 1600
            }
        },
        {
            "id": "dbb730a1-1499-462e-9d67-4585bb9a9662",
            "data": {
                "map": {},
                "name": "Observation_df",
                "uiMap": {
                    "path": "$.Observation",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_7"
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 140,
                "y": 1870
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 140,
                "y": 1870
            }
        },
        {
            "id": "f758c084-1da4-4a3c-8f96-af873953b6c6",
            "data": {
                "map": {},
                "name": "Procedure_df",
                "error": false,
                "uiMap": {
                    "path": "$.Procedure",
                    "source": "python_node"
                },
                "description": "Describe the task of node py2table_node_8",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 90,
                "y": 2180
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 90,
                "y": 2180
            }
        },
        {
            "id": "07cfed06-756e-4cb8-b65b-1d763fb4a98f",
            "data": {
                "id": "AllergeMap",
                "name": "transform_to_Observation",
                "error": false,
                "dataframe": "AllergyIntolerance_df",
                "description": "Describe the task of node transform_fhir_data_node_0",
                "errorMessage": null,
                "structure_map": "{     \"resourceType\": \"StructureMap\",     \"id\": \"AllergyMap\",     \"text\": {         \"status\": \"generated\",         \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap AllergyMap</b></p><a name=\\\"AllergyMap\\\"> </a><a name=\\\"hcAllergyMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/AllergyMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'AllergyMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Allergy resource to Observation OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/allergyintolerance.html\\\" title=\\\"AllergyIntolerance\\\">http://hl7.org/fhir/StructureDefinition/AllergyIntolerance</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Allergy <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-Observation.html\\\" title=\\\"Observation OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/Observation</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>ObservationTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>Observation<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Allergy, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>ObservationTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.code<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.observation_concept_id<span style=\\\"color: navy\\\">, </span> tgt.observation_source_value<span style=\\\"color: navy\\\">, </span> tgt.observation_source_concept_id<span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.observation_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.onset<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">osd</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.observation_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">osd</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.observation_datetime = <span style=\\\"color: maroon\\\">osd</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.patient as s -&gt; tgt then {</span>\\r\\n  src.reaction<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.manifestation<b> as </b><span style=\\\"color: maroon\\\">sman</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sman.concept<b> as </b><span style=\\\"color: maroon\\\">smanc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        smanc.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>          sc.code<span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.value_as_concept_id<span style=\\\"color: navy\\\">, </span> tgt.value_source_value<span style=\\\"color: navy\\\">;</span>\\r\\n        <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"     },     \"extension\": [         {             \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",             \"valueCode\": \"brr\"         },         {             \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",             \"valueInteger\": 1,             \"_valueInteger\": {                 \"extension\": [                     {                         \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",                         \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"                     }                 ]             }         },         {             \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",             \"valueCode\": \"informative\",             \"_valueCode\": {                 \"extension\": [                     {                         \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",                         \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"                     }                 ]             }         }     ],     \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/AllergyMap\",     \"version\": \"1.0.0-ballot\",     \"name\": \"AllergyMap\",     \"title\": \"Mapping Allergy resource to Observation OMOP Domain\",     \"status\": \"draft\",     \"date\": \"2025-07-29T17:40:15+00:00\",     \"publisher\": \"HL7 International / Biomedical Research and Regulation\",     \"contact\": [         {             \"name\": \"HL7 International / Biomedical Research and Regulation\",             \"telecom\": [                 {                     \"system\": \"url\",                     \"value\": \"http://www.hl7.org/Special/committees/rcrim\"                 }             ]         }     ],     \"description\": \"This mapping maps FHIR AllergyIntolerance instances to OMOP Observation Table objects.\",     \"jurisdiction\": [         {             \"coding\": [                 {                     \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",                     \"code\": \"001\",                     \"display\": \"World\"                 }             ]         }     ],     \"structure\": [         {             \"url\": \"http://hl7.org/fhir/StructureDefinition/AllergyIntolerance\",             \"mode\": \"source\",             \"alias\": \"Allergy\"         },         {             \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/Observation\",             \"mode\": \"target\",             \"alias\": \"ObservationTable\"         }     ],     \"group\": [         {             \"name\": \"Observation\",             \"input\": [                 {                     \"name\": \"src\",                     \"type\": \"Allergy\",                     \"mode\": \"source\"                 },                 {                     \"name\": \"tgt\",                     \"type\": \"ObservationTable\",                     \"mode\": \"target\"                 }             ],             \"rule\": [                 {                     \"name\": \"mapObservationId\",                     \"documentation\": \"Generate a unique OMOP observation_id.\",                     \"source\": [                         {                             \"context\": \"src\",                             \"element\": \"id\",                             \"variable\": \"fhirId\"                         }                     ],                     \"target\": [                         {                             \"context\": \"tgt\",                             \"element\": \"observation_id\",                             \"transform\": \"copy\",                             \"parameter\": [                                 {                                     \"valueId\": \"fhirId\"                                 }                             ]                         }                     ]                 },                 {                     \"name\": \"mapPatientId\",                     \"source\": [                         {                             \"context\": \"src\",                             \"element\": \"patient.reference\",                             \"variable\": \"patRef\"                         }                     ],                     \"target\": [                         {                             \"context\": \"tgt\",                             \"element\": \"person_id\",                             \"transform\": \"copy\",                             \"parameter\": [                                 {                                     \"valueId\": \"patRef\"                                 }                             ]                         }                     ]                 },                 {                     \"name\": \"code\",                     \"source\": [                         {                             \"context\": \"src\",                             \"element\": \"code\",                             \"variable\": \"s\"                         }                     ],                     \"target\": [                         {                             \"transform\": \"copy\",                             \"parameter\": [                                 {                                     \"valueId\": \"tgt\"                                 }                             ]                         }                     ],                     \"rule\": [                         {                             \"name\": \"coding\",                             \"source\": [                                 {                                     \"context\": \"s\",                                     \"element\": \"coding\",                                     \"variable\": \"sc\"                                 }                             ],                             \"target\": [                                 {                                     \"transform\": \"copy\",                                     \"context\": \"tgt\",                                     \"parameter\": [                                         {                                             \"valueId\": \"sc\"                                         }                                     ]                                 }                             ],                             \"rule\": [                                 {                                     \"name\": \"code\",                                     \"source\": [                                         {                                             \"context\": \"sc\",                                             \"element\": \"code\",                                             \"variable\": \"sc_code\"                                         }                                     ],                                     \"target\": [                                         {                                             \"context\": \"tgt\",                                             \"element\": \"observation_concept_id\",                                             \"transform\": \"copy\",                                             \"parameter\": [                                                 {                                                     \"valueId\": \"sc_code\"                                                 }                                             ]                                         },                                         {                                             \"context\": \"tgt\",                                             \"element\": \"observation_source_value\",                                             \"transform\": \"copy\",                                             \"parameter\": [                                                 {                                                     \"valueId\": \"sc_code\"                                                 }                                             ]                                         },                                         {                                             \"context\": \"tgt\",                                             \"element\": \"observation_source_concept_id\",                                             \"transform\": \"copy\",                                             \"parameter\": [                                                 {                                                     \"valueId\": \"sc_code\"                                                 }                                             ]                                         }                                     ]                                 }                             ]                         }                     ],                     \"documentation\": \"src.id as id -> tgt.observation_id = cast(id, \\\"integer\\\");\"                 },                 {                     \"name\": \"onsetDateTime\",                     \"source\": [                         {                             \"context\": \"src\",                             \"type\": \"dateTime\",                             \"element\": \"onset\",                             \"variable\": \"osd\"                         }                     ],                     \"target\": [                         {                             \"context\": \"tgt\",                             \"element\": \"observation_date\",                             \"transform\": \"copy\",                             \"parameter\": [                                 {                                     \"valueId\": \"osd\"                                 },                                 {                                     \"valueString\": \"date\"                                 }                             ]                         },                         {                             \"context\": \"tgt\",                             \"element\": \"observation_datetime\",                             \"transform\": \"copy\",                             \"parameter\": [                                 {                                     \"valueId\": \"osd\"                                 }                             ]                         }                     ],                     \"documentation\": \"src.patient as s -> tgt then {\"                 },                 {                     \"name\": \"mapObservationTypeConceptId\",                     \"documentation\": \"Derive OMOP observation_type_concept_id based on FHIR AllergyIntolerance provenance.\",                     \"source\": [                         {                             \"context\": \"src\",                             \"element\": \"id\",                             \"variable\": \"conceptId\"                         }                     ],                     \"target\": [                         {                             \"context\": \"tgt\",                             \"element\": \"observation_type_concept_id\",                             \"transform\": \"copy\",                             \"parameter\": [                                 {                                     \"valueId\": \"conceptId\"                                 }                             ]                         }                     ]                 }             ]         }     ] }",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 730,
                "y": -190
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 730,
                "y": -190
            }
        },
        {
            "id": "0a9450ec-38f8-4c3f-b735-1f2abbdd3fc3",
            "data": {
                "id": "ProcedureMap",
                "name": "transform_to_procedure_occurrence",
                "error": false,
                "dataframe": "Procedure_df",
                "description": "Describe the task of node transform_fhir_data_node_1",
                "errorMessage": null,
                "structure_map": "{\n  \"resourceType\": \"StructureMap\",\n  \"id\": \"ProcedureMap\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap ProcedureMap</b></p><a name=\\\"ProcedureMap\\\"> </a><a name=\\\"hcProcedureMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/ProcedureMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'ProcedureMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Procedure resource to Procedure Occurrence OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/procedure.html\\\" title=\\\"Procedure\\\">http://hl7.org/fhir/StructureDefinition/Procedure</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Procedure <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-ProcedureOccurrence.html\\\" title=\\\"Procedure Occurrence OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/ProcedureOccurrence</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>ProcedureTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>ProcedureOccurrence<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Procedure, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>ProcedureTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.code<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.procedure_concept_id<span style=\\\"color: navy\\\">, </span> tgt.procedure_source_value<span style=\\\"color: navy\\\">, </span> tgt.procedure_source_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.procedure_occurrence_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.occurrence<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.procedure_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.procedure_date = <span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.occurrence<span style=\\\"color: navy\\\"> : </span>Period<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.start<b> as </b><span style=\\\"color: maroon\\\">start</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.procedure_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">start</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.procedure_date = <span style=\\\"color: maroon\\\">start</span><span style=\\\"color: navy\\\">;</span>\\r\\n    s.end<b> as </b><span style=\\\"color: maroon\\\">end</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.procedure_end_datetime<span style=\\\"color: navy\\\">, </span> tgt.procedure_end_date = <span style=\\\"color: maroon\\\">end</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"\n  },\n  \"extension\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\n      \"valueCode\": \"brr\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\n      \"valueInteger\": 1,\n      \"_valueInteger\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\n      \"valueCode\": \"informative\",\n      \"_valueCode\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    }\n  ],\n  \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/ProcedureMap\",\n  \"version\": \"1.0.0-ballot\",\n  \"name\": \"ProcedureMap\",\n  \"title\": \"Mapping Procedure resource to Procedure Occurrence OMOP Domain\",\n  \"status\": \"draft\",\n  \"date\": \"2025-07-29T17:40:15+00:00\",\n  \"publisher\": \"HL7 International / Biomedical Research and Regulation\",\n  \"contact\": [\n    {\n      \"name\": \"HL7 International / Biomedical Research and Regulation\",\n      \"telecom\": [\n        {\n          \"system\": \"url\",\n          \"value\": \"http://www.hl7.org/Special/committees/rcrim\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"This mapping maps FHIR Procedure instances to OMOP Procedure Occurrence Table objects.\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",\n          \"code\": \"001\",\n          \"display\": \"World\"\n        }\n      ]\n    }\n  ],\n  \"structure\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/Procedure\",\n      \"mode\": \"source\",\n      \"alias\": \"Procedure\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/ProcedureOccurrence\",\n      \"mode\": \"target\",\n      \"alias\": \"ProcedureTable\"\n    }\n  ],\n  \"group\": [\n    {\n      \"name\": \"ProcedureOccurrence\",\n      \"input\": [\n        {\n          \"name\": \"src\",\n          \"type\": \"Procedure\",\n          \"mode\": \"source\"\n        },\n        {\n          \"name\": \"tgt\",\n          \"type\": \"ProcedureTable\",\n          \"mode\": \"target\"\n        }\n      ],\n      \"rule\": [\n        {\n          \"name\": \"id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"pid\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"procedure_occurrence_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"pid\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"procedure_type_concept_id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"procedure_type_concept_id\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"procedure_type_concept_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueInteger\": 45905771\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"mapPatientId\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"subject.reference\",\n              \"variable\": \"patientRefId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"patientRefId\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"code\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"code\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"coding\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"coding\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"code\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"code\",\n                      \"variable\": \"a\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"procedure_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"procedure_source_value\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"procedure_source_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.id as id -> tgt.procedure_occurrence_id = cast(id, \\\"integer\\\");\"\n        },\n        {\n          \"name\": \"occurrenceDateTime\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"type\": \"dateTime\",\n              \"element\": \"performedDateTime\",\n              \"variable\": \"edt\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"procedure_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"edt\"\n                },\n                {\n                  \"valueString\": \"dateTime\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"procedure_date\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"edt\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"occurrencePeriod\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"type\": \"Period\",\n              \"element\": \"performedPeriod\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"start\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"start\",\n                  \"variable\": \"start\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"procedure_datetime\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"start\"\n                    },\n                    {\n                      \"valueString\": \"dateTime\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"procedure_date\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"start\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"end\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"end\",\n                  \"variable\": \"end\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"procedure_end_datetime\"\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"procedure_end_date\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"end\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 770,
                "y": 2170
            },
            "selected": true,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 770,
                "y": 2170
            }
        },
        {
            "id": "2db7ffaa-b9cc-4bd2-8f62-5a0059c5cea0",
            "data": {
                "id": "ObservationMap",
                "name": "transform_to_observation",
                "error": false,
                "dataframe": "Observation_df",
                "description": "Describe the task of node transform_fhir_data_node_2",
                "errorMessage": null,
                "structure_map": "{\"resourceType\":\"StructureMap\",\"id\":\"ObservationMap\",\"text\":{\"status\":\"generated\",\"div\":\"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap ObservationMap</b></p><a name=\\\"ObservationMap\\\"> </a><a name=\\\"hcObservationMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/ObservationMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'ObservationMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Observation resource to  Observation OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/observation.html\\\" title=\\\"Observation\\\">http://hl7.org/fhir/StructureDefinition/Observation</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Observation <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-Observation.html\\\" title=\\\"Observation OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/Observation</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>ObsTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>Observe<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Observation, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>ObsTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src<b> where </b>('social-history' | 'imaging' | 'survey' | 'exam' | 'therapy' | 'activity' | 'procedure').supersetOf(Observation.category.coding.code)<b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    src.code<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.observation_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.observation_id = cast(id, &quot;integer&quot;);</span>\\r\\n    src.effective<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.observation_datetime = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">, </span> tgt.observation_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.subject as s -&gt; tgt then {</span>\\r\\n    src.effective<span style=\\\"color: navy\\\"> : </span>instant<b> as </b><span style=\\\"color: maroon\\\">einst</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.observation_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">einst</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.observation_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">einst</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.effective<span style=\\\"color: navy\\\"> : </span>Period<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.start<b> as </b><span style=\\\"color: maroon\\\">ss</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.observation_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">ss</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.observation_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">ss</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.issued<b> as </b><span style=\\\"color: maroon\\\">s</span><b> where </b>(s.toDate != src.effectiveDate)<span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.observation_source_value = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'string'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.value<span style=\\\"color: navy\\\"> : </span>Quantity<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.value<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_as_number = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      s.unit<b> as </b><span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.unit_concept_id = <span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.performer as s -&gt; tgt then {</span>\\r\\n    src.value<span style=\\\"color: navy\\\"> : </span>CodeableConcept<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_as_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.value<span style=\\\"color: navy\\\"> : </span>string<b> as </b><span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_as_string = <span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.note<b> as </b><span style=\\\"color: maroon\\\">d</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.observation_source_value = <span style=\\\"color: maroon\\\">d</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span> <i>&quot;OnlyObs&quot;</i><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"},\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\"valueCode\":\"brr\"},{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\"valueInteger\":1,\"_valueInteger\":{\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\"valueCanonical\":\"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"}]}},{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\"valueCode\":\"informative\",\"_valueCode\":{\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\"valueCanonical\":\"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"}]}}],\"url\":\"http://hl7.org/fhir/uv/omop/StructureMap/ObservationMap\",\"version\":\"1.0.0-ballot\",\"name\":\"ObservationMap\",\"title\":\"Mapping Observation resource to  Observation OMOP Domain\",\"status\":\"draft\",\"date\":\"2025-07-29T17:40:15+00:00\",\"publisher\":\"HL7 International / Biomedical Research and Regulation\",\"contact\":[{\"name\":\"HL7 International / Biomedical Research and Regulation\",\"telecom\":[{\"system\":\"url\",\"value\":\"http://www.hl7.org/Special/committees/rcrim\"}]}],\"description\":\"This mapping maps FHIR Observation instances that are NOT considered measurements to OMOP Observation Table objects.  Currently, this is done by considering the category code and mapping 'social-history', 'imaging', 'survey', 'exam', 'therapy', 'activity', and 'procedure' Observations.\",\"jurisdiction\":[{\"coding\":[{\"system\":\"http://unstats.un.org/unsd/methods/m49/m49.htm\",\"code\":\"001\",\"display\":\"World\"}]}],\"structure\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/Observation\",\"mode\":\"source\",\"alias\":\"Observation\"},{\"url\":\"http://hl7.org/fhir/uv/omop/StructureDefinition/Observation\",\"mode\":\"target\",\"alias\":\"ObsTable\"}],\"group\":[{\"name\":\"Observe\",\"input\":[{\"name\":\"src\",\"type\":\"Observation\",\"mode\":\"source\"},{\"name\":\"tgt\",\"type\":\"ObsTable\",\"mode\":\"target\"}],\"rule\":[{\"name\":\"mapObservationId\",\"documentation\":\"Generate a unique OMOP observation_id.\",\"source\":[{\"context\":\"src\",\"element\":\"id\",\"variable\":\"fhirId\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"fhirId\"}]}]},{\"name\":\"mapPatientId\",\"source\":[{\"context\":\"src\",\"element\":\"subject.reference\",\"variable\":\"patRef\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"person_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"patRef\"}]}]},{\"name\":\"mapObservationTypeConceptId\",\"documentation\":\"Derive OMOP observation_type_concept_id based on FHIR AllergyIntolerance provenance.\",\"source\":[{\"context\":\"src\",\"element\":\"id\",\"variable\":\"id\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_type_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"id\"}]}]},{\"name\":\"OnlyObs\",\"source\":[{\"context\":\"src\",\"condition\":\"('social-history' | 'imaging' | 'survey' | 'exam' | 'therapy' | 'activity' | 'procedure').supersetOf(Observation.category.coding.code)\"}],\"rule\":[{\"name\":\"code\",\"source\":[{\"context\":\"src\",\"element\":\"code\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"coding\",\"source\":[{\"context\":\"s\",\"element\":\"coding\",\"variable\":\"sc\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"code\",\"source\":[{\"context\":\"sc\",\"element\":\"code\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]}]}]}],\"documentation\":\"src.id as id -> tgt.observation_id = cast(id, \\\"integer\\\");\"},{\"name\":\"effectiveDateTime\",\"source\":[{\"context\":\"src\",\"type\":\"dateTime\",\"element\":\"effective\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_datetime\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]},{\"context\":\"tgt\",\"element\":\"observation_date\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"},{\"valueString\":\"date\"}]}],\"documentation\":\"src.subject as s -> tgt then {\"},{\"name\":\"effectiveInstant\",\"source\":[{\"context\":\"src\",\"type\":\"instant\",\"element\":\"effective\",\"variable\":\"einst\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_datetime\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"einst\"},{\"valueString\":\"dateTime\"}]},{\"context\":\"tgt\",\"element\":\"observation_date\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"einst\"},{\"valueString\":\"date\"}]}]},{\"name\":\"effectivePeriod\",\"source\":[{\"context\":\"src\",\"type\":\"Period\",\"element\":\"effective\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"start\",\"source\":[{\"context\":\"s\",\"element\":\"start\",\"variable\":\"ss\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_datetime\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"ss\"},{\"valueString\":\"dateTime\"}]},{\"context\":\"tgt\",\"element\":\"observation_date\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"ss\"},{\"valueString\":\"date\"}]}]}]},{\"name\":\"issued\",\"source\":[{\"context\":\"src\",\"element\":\"issued\",\"variable\":\"s\",\"condition\":\"(s.toDate != src.effectiveDate)\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_source_value\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"s\"},{\"valueString\":\"string\"}]}]},{\"name\":\"valueQuantity\",\"source\":[{\"context\":\"src\",\"type\":\"Quantity\",\"element\":\"value\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"value\",\"source\":[{\"context\":\"s\",\"element\":\"value\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"value_as_number\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]}]},{\"name\":\"unit\",\"source\":[{\"context\":\"s\",\"element\":\"unit\",\"variable\":\"b\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"unit_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"b\"}]}]}],\"documentation\":\"src.performer as s -> tgt then {\"},{\"name\":\"valueCodeableConcept\",\"source\":[{\"context\":\"src\",\"type\":\"CodeableConcept\",\"element\":\"value\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"coding\",\"source\":[{\"context\":\"s\",\"element\":\"coding\",\"variable\":\"sc\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"code\",\"source\":[{\"context\":\"sc\",\"element\":\"code\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"value_as_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]}]}]}]},{\"name\":\"valueString\",\"source\":[{\"context\":\"src\",\"type\":\"string\",\"element\":\"value\",\"variable\":\"b\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"value_as_string\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"b\"}]}]},{\"name\":\"note\",\"source\":[{\"context\":\"src\",\"element\":\"note\",\"variable\":\"d\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_source_value\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"d\"}]}]},{\"name\":\"note\",\"source\":[{\"context\":\"src\",\"element\":\"note\",\"variable\":\"d\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"observation_source_value\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"d\"}]}]}]}]}]}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 790,
                "y": 1860
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 790,
                "y": 1860
            }
        },
        {
            "id": "ab80716e-87b1-479c-bd4e-c95d43b35fe6",
            "data": {
                "id": "MedicationMap",
                "name": "transform_to_drug_exposure",
                "error": false,
                "dataframe": "MedicationStatement_df",
                "description": "Describe the task of node transform_fhir_data_node_3",
                "errorMessage": null,
                "structure_map": "{\"resourceType\":\"StructureMap\",\"id\":\"MedicationMap\",\"text\":{\"status\":\"generated\",\"div\":\"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap MedicationMap</b></p><a name=\\\"MedicationMap\\\"> </a><a name=\\\"hcMedicationMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/MedicationMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'MedicationMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping MedicationStatement resource to DrugExposure OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/medicationstatement.html\\\" title=\\\"MedicationStatement\\\">http://hl7.org/fhir/StructureDefinition/MedicationStatement</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>MedState <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-DrugExposure.html\\\" title=\\\"Drug Exposure OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/DrugExposure</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>DrugExpTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>MedExposure<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>MedState, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>DrugExpTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.medication<span style=\\\"color: navy\\\"> : </span>CodeableReference<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.concept<b> as </b><span style=\\\"color: maroon\\\">scs</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      scs.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.drug_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.drug_exposure_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.effective<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.drug_exposure_start_datetime = <span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\">, </span> tgt.drug_exposure_start_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.effective<span style=\\\"color: navy\\\"> : </span>Period<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.start<b> as </b><span style=\\\"color: maroon\\\">fps</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.drug_exposure_start_datetime = <span style=\\\"color: maroon\\\">fps</span><span style=\\\"color: navy\\\">, </span> tgt.drug_exposure_start_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">fps</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.effective<span style=\\\"color: navy\\\"> : </span>Period<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.end<b> as </b><span style=\\\"color: maroon\\\">fpe</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.drug_exposure_end_datetime = <span style=\\\"color: maroon\\\">fpe</span><span style=\\\"color: navy\\\">, </span> tgt.drug_exposure_end_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">fps</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.effective<span style=\\\"color: navy\\\"> : </span>Period<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.end<b> as </b><span style=\\\"color: maroon\\\">fpe</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.verbatim_end_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">fps</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.category<span style=\\\"color: navy\\\"> : </span>CodeableConcept<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.drug_type_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.reason<span style=\\\"color: navy\\\"> : </span>CodeableReference<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.concept<b> as </b><span style=\\\"color: maroon\\\">scs</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      scs.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.stop_reason = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"},\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\"valueCode\":\"brr\"},{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\"valueInteger\":1,\"_valueInteger\":{\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\"valueCanonical\":\"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"}]}},{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\"valueCode\":\"informative\",\"_valueCode\":{\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\"valueCanonical\":\"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"}]}}],\"url\":\"http://hl7.org/fhir/uv/omop/StructureMap/MedicationMap\",\"version\":\"1.0.0-ballot\",\"name\":\"MedicationMap\",\"title\":\"Mapping MedicationStatement resource to DrugExposure OMOP Domain\",\"status\":\"draft\",\"date\":\"2025-07-29T17:40:15+00:00\",\"publisher\":\"HL7 International / Biomedical Research and Regulation\",\"contact\":[{\"name\":\"HL7 International / Biomedical Research and Regulation\",\"telecom\":[{\"system\":\"url\",\"value\":\"http://www.hl7.org/Special/committees/rcrim\"}]}],\"description\":\"This mapping maps FHIR MedicationStatement instances to OMOP Drug Exposure Table objects.  NOTE: It does not map FHIR MedicationRequest instances although there is a discussion of those instances in the notes.\",\"jurisdiction\":[{\"coding\":[{\"system\":\"http://unstats.un.org/unsd/methods/m49/m49.htm\",\"code\":\"001\",\"display\":\"World\"}]}],\"structure\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/MedicationStatement\",\"mode\":\"source\",\"alias\":\"MedState\"},{\"url\":\"http://hl7.org/fhir/uv/omop/StructureDefinition/DrugExposure\",\"mode\":\"target\",\"alias\":\"DrugExpTable\"}],\"group\":[{\"name\":\"MedExposure\",\"input\":[{\"name\":\"src\",\"type\":\"MedState\",\"mode\":\"source\"},{\"name\":\"tgt\",\"type\":\"DrugExpTable\",\"mode\":\"target\"}],\"rule\":[{\"name\":\"id\",\"source\":[{\"context\":\"src\",\"element\":\"id\",\"variable\":\"did\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"drug_exposure_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"did\"}]}]},{\"name\":\"mapPatientId\",\"source\":[{\"context\":\"src\",\"element\":\"subject.reference\",\"variable\":\"patientRefId\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"person_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"patientRefId\"}]}]},{\"name\":\"drugTypeConceptId\",\"source\":[{\"context\":\"src\",\"element\":\"id\",\"variable\":\"dtci\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"drug_type_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueInteger\":581452}]}]},{\"name\":\"effectiveDateTime\",\"source\":[{\"context\":\"src\",\"type\":\"dateTime\",\"element\":\"effective\",\"variable\":\"edt\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"drug_exposure_start_datetime\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"edt\"}]},{\"context\":\"tgt\",\"element\":\"drug_exposure_start_date\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"edt\"},{\"valueString\":\"date\"}]}]},{\"name\":\"effectivePeriod\",\"source\":[{\"context\":\"src\",\"type\":\"Period\",\"element\":\"effectivePeriod\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"end\",\"source\":[{\"context\":\"s\",\"element\":\"end\",\"variable\":\"fpe\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"drug_exposure_end_datetime\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"fpe\"}]},{\"context\":\"tgt\",\"element\":\"drug_exposure_end_date\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"fpe\"},{\"valueString\":\"date\"}]}]}]},{\"name\":\"effectivePeriod\",\"source\":[{\"context\":\"src\",\"type\":\"Period\",\"element\":\"effective\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"end\",\"source\":[{\"context\":\"s\",\"element\":\"end\",\"variable\":\"fpe\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"verbatim_end_date\",\"transform\":\"cast\",\"parameter\":[{\"valueId\":\"fps\"},{\"valueString\":\"date\"}]}]}]},{\"name\":\"categoryCodeableConcept\",\"source\":[{\"context\":\"src\",\"type\":\"CodeableConcept\",\"element\":\"category\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"coding\",\"source\":[{\"context\":\"s\",\"element\":\"coding\",\"variable\":\"sc\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"code\",\"source\":[{\"context\":\"sc\",\"element\":\"code\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"drug_type_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]}]}]}]},{\"name\":\"reasonCodeableReference\",\"source\":[{\"context\":\"src\",\"element\":\"reasonCode\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"coding\",\"source\":[{\"context\":\"scs\",\"element\":\"coding\",\"variable\":\"sc\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"code\",\"source\":[{\"context\":\"sc\",\"element\":\"code\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"stop_reason\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]}]}]}]},{\"name\":\"medicationCodeableReference\",\"source\":[{\"context\":\"src\",\"element\":\"medicationCodeableConcept\",\"variable\":\"s\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"coding\",\"source\":[{\"context\":\"s\",\"element\":\"coding\",\"variable\":\"sc\"}],\"target\":[{\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"tgt\"}]}],\"rule\":[{\"name\":\"code\",\"source\":[{\"context\":\"sc\",\"element\":\"code\",\"variable\":\"a\"}],\"target\":[{\"context\":\"tgt\",\"element\":\"drug_concept_id\",\"transform\":\"copy\",\"parameter\":[{\"valueId\":\"a\"}]}]}]}],\"documentation\":\"src.id as id -> tgt.drug_exposure_id = cast(id, \\\"integer\\\");\"}]}]}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 770,
                "y": 1590
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 770,
                "y": 1590
            }
        },
        {
            "id": "b7f82a01-dd6e-4b76-bd72-53d069da2e72",
            "data": {
                "id": "MeasurementMap",
                "name": "transform_to_measurement",
                "error": false,
                "dataframe": "Observation_df",
                "description": "Describe the task of node transform_fhir_data_node_4",
                "errorMessage": null,
                "structure_map": "{\n  \"resourceType\": \"StructureMap\",\n  \"id\": \"MeasurementMap\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap MeasurementMap</b></p><a name=\\\"MeasurementMap\\\"> </a><a name=\\\"hcMeasurementMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/MeasurementMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'MeasurementMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Observation resource to Measurement  OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/observation.html\\\" title=\\\"Observation\\\">http://hl7.org/fhir/StructureDefinition/Observation</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Observation <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-Measurement.html\\\" title=\\\"Measurement OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/Measurement</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>MeasureTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>Measures<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Observation, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>MeasureTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src<b> where </b>('vital-signs' | 'laboratory').supersetOf(Observation.category.coding.code)<b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    src.code<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.measurement_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.measurement_id = cast(id, &quot;integer&quot;);</span>\\r\\n    src.effective<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.measurement_datetime = <span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\">, </span> tgt.measurement_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">edt</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.subject as s -&gt; tgt then {</span>\\r\\n    src.effective<span style=\\\"color: navy\\\"> : </span>instant<b> as </b><span style=\\\"color: maroon\\\">einst</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.measurement_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">einst</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.measurement_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">einst</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.effective<span style=\\\"color: navy\\\"> : </span>Period<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.start<b> as </b><span style=\\\"color: maroon\\\">eps</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.measurement_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">eps</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.measurement_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">eps</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.issued<b> as </b><span style=\\\"color: maroon\\\">s</span><b> where </b>(src.issued.toDate != src.effectiveDateTime)<span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.measurement_source_value = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'string'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.value<span style=\\\"color: navy\\\"> : </span>Quantity<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.value<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_as_number = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      s.unit<b> as </b><span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.unit_concept_id = <span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.performer as s -&gt; tgt then {</span>\\r\\n    src.value<span style=\\\"color: navy\\\"> : </span>CodeableConcept<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_as_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.value<span style=\\\"color: navy\\\"> : </span>string<b> as </b><span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_source_value = <span style=\\\"color: maroon\\\">b</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.interpretation<b> as </b><span style=\\\"color: maroon\\\">c</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.value_as_concept_id = <span style=\\\"color: maroon\\\">c</span><span style=\\\"color: navy\\\">;</span>\\r\\n    src.note<b> as </b><span style=\\\"color: maroon\\\">d</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.measurement_source_value = <span style=\\\"color: maroon\\\">d</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span> <i>&quot;OnlyMeasures&quot;</i><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"\n  },\n  \"extension\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\n      \"valueCode\": \"brr\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\n      \"valueInteger\": 1,\n      \"_valueInteger\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\n      \"valueCode\": \"informative\",\n      \"_valueCode\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    }\n  ],\n  \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/MeasurementMap\",\n  \"version\": \"1.0.0-ballot\",\n  \"name\": \"MeasurementMap\",\n  \"title\": \"Mapping Observation resource to Measurement  OMOP Domain\",\n  \"status\": \"draft\",\n  \"date\": \"2025-07-29T17:40:15+00:00\",\n  \"publisher\": \"HL7 International / Biomedical Research and Regulation\",\n  \"contact\": [\n    {\n      \"name\": \"HL7 International / Biomedical Research and Regulation\",\n      \"telecom\": [\n        {\n          \"system\": \"url\",\n          \"value\": \"http://www.hl7.org/Special/committees/rcrim\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"This mapping maps FHIR Observation instances that are considered measurements to OMOP Measurement Table objects.  Currently, this is done by considering the category code and mapping 'vital-signs' and 'laboratory' Observations.\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",\n          \"code\": \"001\",\n          \"display\": \"World\"\n        }\n      ]\n    }\n  ],\n  \"structure\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/Observation\",\n      \"mode\": \"source\",\n      \"alias\": \"Observation\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/Measurement\",\n      \"mode\": \"target\",\n      \"alias\": \"MeasureTable\"\n    }\n  ],\n  \"group\": [\n    {\n      \"name\": \"Measures\",\n      \"input\": [\n        {\n          \"name\": \"src\",\n          \"type\": \"Observation\",\n          \"mode\": \"source\"\n        },\n        {\n          \"name\": \"tgt\",\n          \"type\": \"MeasureTable\",\n          \"mode\": \"target\"\n        }\n      ],\n      \"rule\": [\n        {\n          \"name\": \"id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"mid\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"measurement_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"mid\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"mapPatientId\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"subject.reference\",\n              \"variable\": \"patientRefId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"patientRefId\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"OnlyMeasures\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"condition\": \"('vital-signs' | 'laboratory').supersetOf(Observation.category.coding.code)\"\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"code\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"element\": \"code\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"coding\",\n                  \"source\": [\n                    {\n                      \"context\": \"s\",\n                      \"element\": \"coding\",\n                      \"variable\": \"sc\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"tgt\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"rule\": [\n                    {\n                      \"name\": \"code\",\n                      \"source\": [\n                        {\n                          \"context\": \"sc\",\n                          \"element\": \"code\",\n                          \"variable\": \"a\"\n                        }\n                      ],\n                      \"target\": [\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"measurement_concept_id\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueString\": \"a\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ],\n              \"documentation\": \"src.id as id -> tgt.measurement_id = cast(id, \\\"integer\\\");\"\n            },\n            {\n              \"name\": \"effectiveDateTime\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"type\": \"dateTime\",\n                  \"element\": \"effective\",\n                  \"variable\": \"edt\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_datetime\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"edt\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_date\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"edt\"\n                    },\n                    {\n                      \"valueString\": \"date\"\n                    }\n                  ]\n                }\n              ],\n              \"documentation\": \"src.subject as s -> tgt then {\"\n            },\n            {\n              \"name\": \"effectiveInstant\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"type\": \"instant\",\n                  \"element\": \"effective\",\n                  \"variable\": \"einst\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_datetime\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"einst\"\n                    },\n                    {\n                      \"valueString\": \"dateTime\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_date\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"einst\"\n                    },\n                    {\n                      \"valueString\": \"date\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"effectivePeriod\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"type\": \"Period\",\n                  \"element\": \"effective\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"start\",\n                  \"source\": [\n                    {\n                      \"context\": \"s\",\n                      \"element\": \"start\",\n                      \"variable\": \"eps\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"measurement_datetime\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"eps\"\n                        },\n                        {\n                          \"valueString\": \"dateTime\"\n                        }\n                      ]\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"measurement_date\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"eps\"\n                        },\n                        {\n                          \"valueString\": \"date\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"issued\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"element\": \"issued\",\n                  \"variable\": \"s\",\n                  \"condition\": \"(src.issued.toDate != src.effectiveDateTime)\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_source_value\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"s\"\n                    },\n                    {\n                      \"valueString\": \"string\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"valueQuantity\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"type\": \"Quantity\",\n                  \"element\": \"value\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"value\",\n                  \"source\": [\n                    {\n                      \"context\": \"s\",\n                      \"element\": \"value\",\n                      \"variable\": \"a\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"value_as_number\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    }\n                  ]\n                },\n                {\n                  \"name\": \"unit\",\n                  \"source\": [\n                    {\n                      \"context\": \"s\",\n                      \"element\": \"unit\",\n                      \"variable\": \"b\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"unit_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"b\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ],\n              \"documentation\": \"src.performer as s -> tgt then {\"\n            },\n            {\n              \"name\": \"valueCodeableConcept\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"type\": \"CodeableConcept\",\n                  \"element\": \"value\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"coding\",\n                  \"source\": [\n                    {\n                      \"context\": \"s\",\n                      \"element\": \"coding\",\n                      \"variable\": \"sc\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"tgt\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"rule\": [\n                    {\n                      \"name\": \"code\",\n                      \"source\": [\n                        {\n                          \"context\": \"sc\",\n                          \"element\": \"code\",\n                          \"variable\": \"a\"\n                        }\n                      ],\n                      \"target\": [\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"value_as_concept_id\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"a\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"measurement_type_concept_id\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"element\": \"id\",\n                  \"variable\": \"measurement_type_concept_id\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_type_concept_id\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueInteger\": 581458\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"valueString\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"type\": \"string\",\n                  \"element\": \"value\",\n                  \"variable\": \"b\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"value_source_value\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"b\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"interpretation\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"element\": \"interpretation\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"coding\",\n                  \"source\": [\n                    {\n                      \"context\": \"s\",\n                      \"element\": \"coding\",\n                      \"variable\": \"sc\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"tgt\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"rule\": [\n                    {\n                      \"name\": \"code\",\n                      \"source\": [\n                        {\n                          \"context\": \"sc\",\n                          \"element\": \"code\",\n                          \"variable\": \"a\"\n                        }\n                      ],\n                      \"target\": [\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"value_as_concept_id\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"a\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"note\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"element\": \"note\",\n                  \"variable\": \"d\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"measurement_source_value\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"d\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 780,
                "y": 1300
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 780,
                "y": 1300
            }
        },
        {
            "id": "369f82ce-d9bb-40dd-aa10-e6acf3849bc5",
            "data": {
                "id": "EncounterVisitMap",
                "name": "transform_to_visit_occurrence",
                "error": false,
                "dataframe": "Encounter_df",
                "description": "Describe the task of node transform_fhir_data_node_6",
                "errorMessage": null,
                "structure_map": "{\n  \"resourceType\": \"StructureMap\",\n  \"id\": \"EncounterVisitMap\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap EncounterVisitMap</b></p><a name=\\\"EncounterVisitMap\\\"> </a><a name=\\\"hcEncounterVisitMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/EncounterVisitMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'EncounterVisitMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Encounter resource to VisitOccurrence OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/encounter.html\\\" title=\\\"Encounter\\\">http://hl7.org/fhir/StructureDefinition/Encounter</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Encounter <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-VisitOccurrence.html\\\" title=\\\"Visit Occurrence OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/VisitOccurrence</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>VisitTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>VisitOccurrence<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Encounter, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>VisitTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.class<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.visit_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">, </span> tgt.visit_source_value = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">, </span> tgt.visit_source_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.visit_occurrence_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.actualPeriod<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.start<b> as </b><span style=\\\"color: maroon\\\">std</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.visit_start_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">std</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.visit_start_datetime = <span style=\\\"color: maroon\\\">std</span><span style=\\\"color: navy\\\">;</span>\\r\\n    s.end<b> as </b><span style=\\\"color: maroon\\\">ed</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.visit_end_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">ed</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.visit_end_datetime = <span style=\\\"color: maroon\\\">ed</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.admission<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.admitSource<b> as </b><span style=\\\"color: maroon\\\">sa</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sa.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">code</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.admitted_from_concept_id = <span style=\\\"color: maroon\\\">code</span><span style=\\\"color: navy\\\">, </span> tgt.admitted_from_source_value = <span style=\\\"color: maroon\\\">code</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    s.dischargeDisposition<b> as </b><span style=\\\"color: maroon\\\">sd</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sd.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sc.code<b> as </b><span style=\\\"color: maroon\\\">code</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.discharged_to_concept_id = <span style=\\\"color: maroon\\\">code</span><span style=\\\"color: navy\\\">, </span> tgt.discharged_to_source_value = <span style=\\\"color: maroon\\\">code</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"\n  },\n  \"extension\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\n      \"valueCode\": \"brr\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\n      \"valueInteger\": 1,\n      \"_valueInteger\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\n      \"valueCode\": \"informative\",\n      \"_valueCode\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    }\n  ],\n  \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/EncounterVisitMap\",\n  \"version\": \"1.0.0-ballot\",\n  \"name\": \"EncounterVisitMap\",\n  \"title\": \"Mapping Encounter resource to VisitOccurrence OMOP Domain\",\n  \"status\": \"draft\",\n  \"date\": \"2025-07-29T17:40:15+00:00\",\n  \"publisher\": \"HL7 International / Biomedical Research and Regulation\",\n  \"contact\": [\n    {\n      \"name\": \"HL7 International / Biomedical Research and Regulation\",\n      \"telecom\": [\n        {\n          \"system\": \"url\",\n          \"value\": \"http://www.hl7.org/Special/committees/rcrim\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"This mapping maps FHIR Encounter instances to OMOP Visit Occurence Table objects.\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",\n          \"code\": \"001\",\n          \"display\": \"World\"\n        }\n      ]\n    }\n  ],\n  \"structure\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/Encounter\",\n      \"mode\": \"source\",\n      \"alias\": \"Encounter\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/VisitOccurrence\",\n      \"mode\": \"target\",\n      \"alias\": \"VisitTable\"\n    }\n  ],\n  \"group\": [\n    {\n      \"name\": \"VisitOccurrence\",\n      \"input\": [\n        {\n          \"name\": \"src\",\n          \"type\": \"Encounter\",\n          \"mode\": \"source\"\n        },\n        {\n          \"name\": \"tgt\",\n          \"type\": \"VisitTable\",\n          \"mode\": \"target\"\n        }\n      ],\n      \"rule\": [\n        {\n          \"name\": \"id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"vid\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"visit_occurrence_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"vid\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"visitTypeConceptId\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"visitTypeConceptId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"visit_type_concept_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueInteger\": 32817\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"subject\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"subject.reference\",\n              \"variable\": \"patientRef\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"evaluate\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"src\"\n                },\n                {\n                  \"valueString\": \"patientRef.substring(8)\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"mapPatientId\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"subject.reference\",\n              \"variable\": \"patientRefId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"patientRefId\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"class\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"class\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"code\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"code\",\n                  \"variable\": \"a\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_concept_id\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"a\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_source_value\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"a\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_source_concept_id\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"a\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.id as id -> tgt.visit_occurrence_id = cast(id, \\\"integer\\\");\"\n        },\n        {\n          \"name\": \"actualPeriod\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"period\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"start\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"start\",\n                  \"variable\": \"std\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_start_date\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"std\"\n                    },\n                    {\n                      \"valueString\": \"date\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_start_datetime\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"std\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"end\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"end\",\n                  \"variable\": \"ed\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_end_date\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"ed\"\n                    },\n                    {\n                      \"valueString\": \"date\"\n                    }\n                  ]\n                },\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"visit_end_datetime\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"ed\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"admission\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"admission\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"admitSource\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"admitSource\",\n                  \"variable\": \"sa\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"coding\",\n                  \"source\": [\n                    {\n                      \"context\": \"sa\",\n                      \"element\": \"coding\",\n                      \"variable\": \"sc\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"tgt\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"rule\": [\n                    {\n                      \"name\": \"code\",\n                      \"source\": [\n                        {\n                          \"context\": \"sc\",\n                          \"element\": \"code\",\n                          \"variable\": \"code\"\n                        }\n                      ],\n                      \"target\": [\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"admitted_from_concept_id\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"code\"\n                            }\n                          ]\n                        },\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"admitted_from_source_value\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"code\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"dischargeDisposition\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"dischargeDisposition\",\n                  \"variable\": \"sd\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"coding\",\n                  \"source\": [\n                    {\n                      \"context\": \"sd\",\n                      \"element\": \"coding\",\n                      \"variable\": \"sc\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"tgt\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"rule\": [\n                    {\n                      \"name\": \"code\",\n                      \"source\": [\n                        {\n                          \"context\": \"sc\",\n                          \"element\": \"code\",\n                          \"variable\": \"code\"\n                        }\n                      ],\n                      \"target\": [\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"discharged_to_concept_id\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"code\"\n                            }\n                          ]\n                        },\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"discharged_to_source_value\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"code\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 770,
                "y": 730
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 770,
                "y": 730
            }
        },
        {
            "id": "53923929-57cc-4bac-b644-78348d982bb3",
            "data": {
                "id": "ConditionMap",
                "name": "transform_to_condition_occurrence",
                "error": false,
                "dataframe": "Condition_df",
                "description": "Describe the task of node transform_fhir_data_node_7",
                "errorMessage": null,
                "structure_map": "{\n  \"resourceType\": \"StructureMap\",\n  \"id\": \"ConditionMap\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap ConditionMap</b></p><a name=\\\"ConditionMap\\\"> </a><a name=\\\"hcConditionMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/ConditionMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'ConditionMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Condition resource to Condition Occurrence OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/condition.html\\\" title=\\\"Condition\\\">http://hl7.org/fhir/StructureDefinition/Condition</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Condition <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-ConditionOccurrence.html\\\" title=\\\"Condition Occurrence OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/ConditionOccurrence</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>ConOccTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>ConditionOccurrence<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Condition, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>ConOccTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.code<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.condition_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.condition_occurrence_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.recordedDate<b> as </b><span style=\\\"color: maroon\\\">rd</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.condition_start_datetime = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">rd</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'dateTime'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.condition_start_date = <span style=\\\"color: maroon\\\">rd</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.onset<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">osd</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.condition_start_datetime = <span style=\\\"color: maroon\\\">osd</span><span style=\\\"color: navy\\\">, </span> tgt.condition_start_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">osd</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.abatement<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">abdt</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.condition_end_datetime = <span style=\\\"color: maroon\\\">adt</span><span style=\\\"color: navy\\\">, </span> tgt.condition_end_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">abdt</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.category<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.condition_type_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.clinicalStatus<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.condition_status_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.evidence<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.concept<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.coding<b> as </b><span style=\\\"color: maroon\\\">sci</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>        sci.code<b> as </b><span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.condition_source_concept_id = <span style=\\\"color: maroon\\\">a</span><span style=\\\"color: navy\\\">;</span>\\r\\n      <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.encounter as s -&gt; tgt then {</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"\n  },\n  \"extension\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\n      \"valueCode\": \"brr\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\n      \"valueInteger\": 1,\n      \"_valueInteger\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\n      \"valueCode\": \"informative\",\n      \"_valueCode\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    }\n  ],\n  \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/ConditionMap\",\n  \"version\": \"1.0.0-ballot\",\n  \"name\": \"ConditionMap\",\n  \"title\": \"Mapping Condition resource to Condition Occurrence OMOP Domain\",\n  \"status\": \"draft\",\n  \"date\": \"2025-07-29T17:40:15+00:00\",\n  \"publisher\": \"HL7 International / Biomedical Research and Regulation\",\n  \"contact\": [\n    {\n      \"name\": \"HL7 International / Biomedical Research and Regulation\",\n      \"telecom\": [\n        {\n          \"system\": \"url\",\n          \"value\": \"http://www.hl7.org/Special/committees/rcrim\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"This mapping maps FHIR Condition instances to OMOP Condition Occurence Table objects.\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",\n          \"code\": \"001\",\n          \"display\": \"World\"\n        }\n      ]\n    }\n  ],\n  \"structure\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/Condition\",\n      \"mode\": \"source\",\n      \"alias\": \"Condition\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/ConditionOccurrence\",\n      \"mode\": \"target\",\n      \"alias\": \"ConOccTable\"\n    }\n  ],\n  \"group\": [\n    {\n      \"name\": \"ConditionOccurrence\",\n      \"input\": [\n        {\n          \"name\": \"src\",\n          \"type\": \"Condition\",\n          \"mode\": \"source\"\n        },\n        {\n          \"name\": \"tgt\",\n          \"type\": \"ConOccTable\",\n          \"mode\": \"target\"\n        }\n      ],\n      \"rule\": [\n        {\n          \"name\": \"condition_id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"conditionId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_occurrence_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"conditionId\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"mapPatientId\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"subject.reference\",\n              \"variable\": \"patRef\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"patRef\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"code\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"code\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"coding\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"coding\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"code\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"code\",\n                      \"variable\": \"a\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"condition_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.id as id -> tgt.condition_occurrence_id = cast(id, \\\"integer\\\");\"\n        },\n        {\n          \"name\": \"recordedDate\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"recordedDate\",\n              \"variable\": \"rd\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_start_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"rd\"\n                },\n                {\n                  \"valueString\": \"dateTime\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_start_date\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"rd\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"onsetDateTime\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"type\": \"dateTime\",\n              \"element\": \"onset\",\n              \"variable\": \"osd\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_start_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"osd\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_start_date\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"osd\"\n                },\n                {\n                  \"valueString\": \"date\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"abatementDateTime\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"type\": \"dateTime\",\n              \"element\": \"abatement\",\n              \"variable\": \"abdt\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_end_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"adt\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"condition_end_date\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"abdt\"\n                },\n                {\n                  \"valueString\": \"date\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"category\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"category\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"coding\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"coding\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"code\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"code\",\n                      \"variable\": \"a\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"condition_type_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"clinicalStatus\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"clinicalStatus\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"coding\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"coding\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"code\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"code\",\n                      \"variable\": \"a\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"condition_status_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"evidence\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"evidence\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"concept\",\n              \"source\": [\n                {\n                  \"context\": \"src\",\n                  \"element\": \"concept\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"coding\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"coding\",\n                      \"variable\": \"sci\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"tgt\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"rule\": [\n                    {\n                      \"name\": \"code\",\n                      \"source\": [\n                        {\n                          \"context\": \"sci\",\n                          \"element\": \"code\",\n                          \"variable\": \"a\"\n                        }\n                      ],\n                      \"target\": [\n                        {\n                          \"context\": \"tgt\",\n                          \"element\": \"condition_source_concept_id\",\n                          \"transform\": \"copy\",\n                          \"parameter\": [\n                            {\n                              \"valueId\": \"a\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.encounter as s -> tgt then {\"\n        }\n      ]\n    }\n  ]\n}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 790,
                "y": 450
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 790,
                "y": 450
            }
        },
        {
            "id": "14f6c52b-5c9e-4cb7-8ed9-8636c4e6bed8",
            "data": {
                "id": "PersonMap",
                "name": "transform_to_person",
                "error": false,
                "dataframe": "Patient_df",
                "description": "Describe the task of node transform_fhir_data_node_8",
                "errorMessage": null,
                "structure_map": "{\n  \"resourceType\": \"StructureMap\",\n  \"id\": \"PersonMap\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap PersonMap</b></p><a name=\\\"PersonMap\\\"> </a><a name=\\\"hcPersonMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/PersonMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'PersonMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Patient resource to Person OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/patient.html\\\" title=\\\"Patient\\\">http://hl7.org/fhir/StructureDefinition/Patient</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Patient <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-Person.html\\\" title=\\\"Person OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/Person</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>PersonTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>Person<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Patient, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>PersonTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.gender<b> as </b><span style=\\\"color: maroon\\\">gender</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.gender_concept_id = <span style=\\\"color: maroon\\\">gender</span><span style=\\\"color: navy\\\">, </span> tgt.gender_source_value = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">gender</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'string'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.person_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.birthDate<b> as </b><span style=\\\"color: maroon\\\">bdSrc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.birth_datetime = <span style=\\\"color: maroon\\\">bdSrc</span><span style=\\\"color: navy\\\">, </span> tgt.year_of_birth = <span style=\\\"color: navy\\\">(</span>src.birthDate.toString().substring(0, 4)<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.month_of_birth = <span style=\\\"color: navy\\\">(</span>src.birthDate.toString().substring(5, 2)<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.day_of_birth = <span style=\\\"color: navy\\\">(</span>src.birthDate.toString().substring(8, 2)<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"\n  },\n  \"extension\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\n      \"valueCode\": \"brr\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\n      \"valueInteger\": 1,\n      \"_valueInteger\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\n      \"valueCode\": \"informative\",\n      \"_valueCode\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    }\n  ],\n  \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/PersonMap\",\n  \"version\": \"1.0.0-ballot\",\n  \"name\": \"PersonMap\",\n  \"title\": \"Mapping Patient resource to Person OMOP Domain\",\n  \"status\": \"draft\",\n  \"date\": \"2025-07-29T17:40:15+00:00\",\n  \"publisher\": \"HL7 International / Biomedical Research and Regulation\",\n  \"contact\": [\n    {\n      \"name\": \"HL7 International / Biomedical Research and Regulation\",\n      \"telecom\": [\n        {\n          \"system\": \"url\",\n          \"value\": \"http://www.hl7.org/Special/committees/rcrim\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"This mapping maps FHIR Patient instances to OMOP Person Table objects.\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",\n          \"code\": \"001\",\n          \"display\": \"World\"\n        }\n      ]\n    }\n  ],\n  \"structure\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/Patient\",\n      \"mode\": \"source\",\n      \"alias\": \"Patient\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/Person\",\n      \"mode\": \"target\",\n      \"alias\": \"PersonTable\"\n    }\n  ],\n  \"group\": [\n    {\n      \"name\": \"Person\",\n      \"input\": [\n        {\n          \"name\": \"src\",\n          \"type\": \"Patient\",\n          \"mode\": \"source\"\n        },\n        {\n          \"name\": \"tgt\",\n          \"type\": \"PersonTable\",\n          \"mode\": \"target\"\n        }\n      ],\n      \"rule\": [\n        {\n          \"name\": \"person_id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"patientId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"patientId\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"gender\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"gender\",\n              \"variable\": \"gender\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"gender_concept_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"gender\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"gender_source_value\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"gender\"\n                },\n                {\n                  \"valueString\": \"string\"\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.id as id -> tgt.person_id = cast(id, \\\"integer\\\");\"\n        },\n        {\n          \"name\": \"birthDate\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"birthDate\",\n              \"variable\": \"bdSrc\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"birth_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"bdSrc\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"year_of_birth\",\n              \"transform\": \"evaluate\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"src\"\n                },\n                {\n                  \"valueString\": \"birthDate.substring(0,4)\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"month_of_birth\",\n              \"transform\": \"evaluate\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"src\"\n                },\n                {\n                  \"valueString\": \"birthDate.substring(5,2)\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"day_of_birth\",\n              \"transform\": \"evaluate\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"src\"\n                },\n                {\n                  \"valueString\": \"birthDate.substring(8,2)\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"raceConcept\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"extension.where(url = 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-race').extension.valueCoding.display\",\n              \"variable\": \"race\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"race_concept_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"race\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"ethnicity_concept_id\",\n          \"documentation\": \"Map FHIR US Core ethnicity extension to OMOP person.ethnicity_concept_id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"extension.where(url = 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity').extension.where(url = 'ombCategory').valueCoding.code\",\n              \"variable\": \"ethnicityCode\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"ethnicity_concept_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"ethnicityCode\"\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 760,
                "y": 150
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 760,
                "y": 150
            }
        },
        {
            "id": "9591d4d0-2887-496e-87f9-a4d7ef5c60ef",
            "data": {
                "id": "ImmunizationMap",
                "name": "transform_to_drug_exposure",
                "error": false,
                "dataframe": "Immunization_df",
                "description": "Describe the task of node transform_fhir_data_node_8",
                "errorMessage": null,
                "structure_map": "{\n  \"resourceType\": \"StructureMap\",\n  \"id\": \"ImmunizationMap\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p class=\\\"res-header-id\\\"><b>Generated Narrative: StructureMap ImmunizationMap</b></p><a name=\\\"ImmunizationMap\\\"> </a><a name=\\\"hcImmunizationMap\\\"> </a><pre class=\\\"fml\\\">\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>url</b> = </span><span style=\\\"color: blue\\\">'http://hl7.org/fhir/uv/omop/StructureMap/ImmunizationMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>name</b> = </span><span style=\\\"color: blue\\\">'ImmunizationMap'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>title</b> = </span><span style=\\\"color: blue\\\">'Mapping Immunization resource to Drug Exposure OMOP Domain'</span>\\r\\n<span style=\\\"color: #cc00cc\\\">/// <b>status</b> = </span><span style=\\\"color: blue\\\">'draft'</span>\\r\\n\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"http://hl7.org/fhir/R5/immunization.html\\\" title=\\\"Immunization\\\">http://hl7.org/fhir/StructureDefinition/Immunization</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>Immunization <b>as </b><b>source</b>\\r\\n<b>uses</b><span style=\\\"color: navy\\\"> &quot;</span><a href=\\\"StructureDefinition-DrugExposure.html\\\" title=\\\"Drug Exposure OMOP Table\\\">http://hl7.org/fhir/uv/omop/StructureDefinition/DrugExposure</a><span style=\\\"color: navy\\\">&quot; </span><b>alias </b>DrugExposureTable <b>as </b><b>target</b>\\r\\n\\r\\n<b>group </b>DrugExposure<span style=\\\"color: navy\\\">(</span><b>source</b> <span style=\\\"color: maroon\\\">src</span><span style=\\\"color: navy\\\"> : </span>Immunization, <b>target</b> <span style=\\\"color: maroon\\\">tgt</span><span style=\\\"color: navy\\\"> : </span>DrugExposureTable<span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\"> {\\r\\n</span>  src.vaccineCode<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.drug_concept_id<span style=\\\"color: navy\\\">, </span> tgt.drug_source_value<span style=\\\"color: navy\\\">, </span> tgt.drug_source_concept_id<span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.id as id -&gt; tgt.drug_exposure_id = cast(id, &quot;integer&quot;);</span>\\r\\n  src.doseQuantity<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.value<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.quantity = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'decimal'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    s.code<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.dose_unit_source_value = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'string'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.patient as s -&gt; tgt then {</span>\\r\\n  src.route<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>    s.text<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.route_source_value = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'string'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span>\\r\\n    s.coding<b> as </b><span style=\\\"color: maroon\\\">sc</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span><span style=\\\"color: maroon\\\">tgt</span><b> then</b><span style=\\\"color: navy\\\"> {\\r\\n</span>      sc.code<span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.route_concept_id<span style=\\\"color: navy\\\">, </span> tgt.route_source_value<span style=\\\"color: navy\\\">;</span>\\r\\n    <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  <span style=\\\"color: navy\\\">}</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.occurrence<span style=\\\"color: navy\\\"> : </span>dateTime<b> as </b><span style=\\\"color: maroon\\\">odt</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span> tgt.drug_exposure_start_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">odt</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.drug_exposure_start_datetime = <span style=\\\"color: maroon\\\">odt</span><span style=\\\"color: navy\\\">, </span> tgt.drug_exposure_end_date = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">odt</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'date'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">, </span> tgt.drug_exposure_end_datetime = <span style=\\\"color: maroon\\\">odt</span><span style=\\\"color: navy\\\">;</span>\\r\\n  src.lotNumber<b> as </b><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\"><b> -&gt; </b></span>tgt.lot_number = <b>cast</b><span style=\\\"color: navy\\\">(</span><span style=\\\"color: maroon\\\">s</span><span style=\\\"color: navy\\\">, </span><span style=\\\"color: blue\\\">'string'</span><span style=\\\"color: navy\\\">)</span><span style=\\\"color: navy\\\">;</span> <span style=\\\"color: navy\\\">// </span><span style=\\\"color: green\\\">src.encounter as s -&gt; tgt then {</span>\\r\\n<span style=\\\"color: navy\\\">}\\r\\n\\r\\n</span></pre></div>\"\n  },\n  \"extension\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\n      \"valueCode\": \"brr\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm\",\n      \"valueInteger\": 1,\n      \"_valueInteger\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status\",\n      \"valueCode\": \"informative\",\n      \"_valueCode\": {\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom\",\n            \"valueCanonical\": \"http://hl7.org/fhir/uv/omop/ImplementationGuide/hl7.fhir.uv.omop\"\n          }\n        ]\n      }\n    }\n  ],\n  \"url\": \"http://hl7.org/fhir/uv/omop/StructureMap/ImmunizationMap\",\n  \"version\": \"1.0.0-ballot\",\n  \"name\": \"ImmunizationMap\",\n  \"title\": \"Mapping Immunization resource to Drug Exposure OMOP Domain\",\n  \"status\": \"draft\",\n  \"date\": \"2025-07-29T17:40:15+00:00\",\n  \"publisher\": \"HL7 International / Biomedical Research and Regulation\",\n  \"contact\": [\n    {\n      \"name\": \"HL7 International / Biomedical Research and Regulation\",\n      \"telecom\": [\n        {\n          \"system\": \"url\",\n          \"value\": \"http://www.hl7.org/Special/committees/rcrim\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"This mapping maps FHIR Immunization instances to OMOP Drug Exposure Table objects.\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://unstats.un.org/unsd/methods/m49/m49.htm\",\n          \"code\": \"001\",\n          \"display\": \"World\"\n        }\n      ]\n    }\n  ],\n  \"structure\": [\n    {\n      \"url\": \"http://hl7.org/fhir/StructureDefinition/Immunization\",\n      \"mode\": \"source\",\n      \"alias\": \"Immunization\"\n    },\n    {\n      \"url\": \"http://hl7.org/fhir/uv/omop/StructureDefinition/DrugExposure\",\n      \"mode\": \"target\",\n      \"alias\": \"DrugExposureTable\"\n    }\n  ],\n  \"group\": [\n    {\n      \"name\": \"DrugExposure\",\n      \"input\": [\n        {\n          \"name\": \"src\",\n          \"type\": \"Immunization\",\n          \"mode\": \"source\"\n        },\n        {\n          \"name\": \"tgt\",\n          \"type\": \"DrugExposureTable\",\n          \"mode\": \"target\"\n        }\n      ],\n      \"rule\": [\n        {\n          \"name\": \"id\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"id\",\n              \"variable\": \"did\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"drug_exposure_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"did\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"mapPatientId\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"patient.reference\",\n              \"variable\": \"patientRefId\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"person_id\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"patientRefId\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"vaccineCode\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"vaccineCode\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"coding\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"coding\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"code\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"code\",\n                      \"variable\": \"a\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"drug_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"drug_source_value\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"drug_source_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"drug_type_concept_id\",\n                      \"transform\": \"copy\",\n                      \"parameter\": [\n                        {\n                          \"valueId\": \"a\"\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.id as id -> tgt.drug_exposure_id = cast(id, \\\"integer\\\");\"\n        },\n        {\n          \"name\": \"doseQuantity\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"doseQuantity\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"value\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"value\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"quantity\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"s\"\n                    },\n                    {\n                      \"valueString\": \"decimal\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"code\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"code\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"dose_unit_source_value\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"s\"\n                    },\n                    {\n                      \"valueString\": \"string\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.patient as s -> tgt then {\"\n        },\n        {\n          \"name\": \"route\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"route\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"tgt\"\n                }\n              ]\n            }\n          ],\n          \"rule\": [\n            {\n              \"name\": \"text\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"text\",\n                  \"variable\": \"s\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"context\": \"tgt\",\n                  \"element\": \"route_source_value\",\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"s\"\n                    },\n                    {\n                      \"valueString\": \"string\"\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"name\": \"coding\",\n              \"source\": [\n                {\n                  \"context\": \"s\",\n                  \"element\": \"coding\",\n                  \"variable\": \"sc\"\n                }\n              ],\n              \"target\": [\n                {\n                  \"transform\": \"copy\",\n                  \"parameter\": [\n                    {\n                      \"valueId\": \"tgt\"\n                    }\n                  ]\n                }\n              ],\n              \"rule\": [\n                {\n                  \"name\": \"code\",\n                  \"source\": [\n                    {\n                      \"context\": \"sc\",\n                      \"element\": \"code\"\n                    }\n                  ],\n                  \"target\": [\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"route_concept_id\"\n                    },\n                    {\n                      \"context\": \"tgt\",\n                      \"element\": \"route_source_value\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"occurrenceDateTime\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"type\": \"dateTime\",\n              \"element\": \"occurrence\",\n              \"variable\": \"odt\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"drug_exposure_start_date\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"odt\"\n                },\n                {\n                  \"valueString\": \"date\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"drug_exposure_start_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"odt\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"drug_exposure_end_date\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"odt\"\n                },\n                {\n                  \"valueString\": \"date\"\n                }\n              ]\n            },\n            {\n              \"context\": \"tgt\",\n              \"element\": \"drug_exposure_end_datetime\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"odt\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"lotNumber\",\n          \"source\": [\n            {\n              \"context\": \"src\",\n              \"element\": \"lotNumber\",\n              \"variable\": \"s\"\n            }\n          ],\n          \"target\": [\n            {\n              \"context\": \"tgt\",\n              \"element\": \"lot_number\",\n              \"transform\": \"copy\",\n              \"parameter\": [\n                {\n                  \"valueId\": \"s\"\n                },\n                {\n                  \"valueString\": \"string\"\n                }\n              ]\n            }\n          ],\n          \"documentation\": \"src.encounter as s -> tgt then {\"\n        }\n      ]\n    }\n  ]\n}",
                "output_omop_data": ""
            },
            "type": "transform_fhir_data_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 770,
                "y": 1010
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 770,
                "y": 1010
            }
        },
        {
            "id": "c4ae2475-ebb4-4bb7-bd92-5e711d93f20d",
            "data": {
                "name": "validate_cdm_data_drug_exp",
                "error": false,
                "description": "Describe the task of node python_node_1",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"drug_exposure_id\",\n  \"person_id\",\n  \"drug_concept_id\",\n  \"drug_exposure_start_date\",\n  \"drug_exposure_end_date\",\n  \"drug_type_concept_id\"\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_drug_exposure\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1450,
                "y": 1030
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1450,
                "y": 1030
            }
        },
        {
            "id": "c9ff11c9-d269-4035-b70a-523b4b92ebb6",
            "data": {
                "map": {},
                "name": "py2table_drug_exposure",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_drug_exp"
                },
                "description": "Describe the task of node py2table_node_9",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 354,
            "height": 214,
            "dragging": false,
            "position": {
                "x": 1930,
                "y": 1030
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1930,
                "y": 1030
            }
        },
        {
            "id": "fc3206ff-ae52-43ed-8ef7-6d8cb525e698",
            "data": {
                "name": "validate_cdm_data_meas",
                "error": false,
                "description": "Describe the task of node python_node_2",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"measurement_id\",\n  \"person_id\",\n  \"measurement_concept_id\",\n  \"measurement_date\",\n  \"measurement_type_concept_id\"\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_measurement\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1420,
                "y": 1310
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1420,
                "y": 1310
            }
        },
        {
            "id": "97e789e0-8b0b-49be-ad53-588599053812",
            "data": {
                "map": {},
                "name": "py2table_to_measurement",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_meas"
                },
                "description": "Describe the task of node py2table_node_10",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1940,
                "y": 1310
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1940,
                "y": 1310
            }
        },
        {
            "id": "7d661465-6ce0-44af-80d7-fd533a1acae9",
            "data": {
                "name": "validate_cdm_data_drug_exp",
                "description": "Describe the task of node python_node_3",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"drug_exposure_id\",\n  \"person_id\",\n  \"drug_concept_id\",\n  \"drug_exposure_start_date\",\n  \"drug_exposure_end_date\",\n  \"drug_type_concept_id\"\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_drug_exposure\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n"
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1410,
                "y": 1590
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1410,
                "y": 1590
            }
        },
        {
            "id": "09e016fe-ee22-4853-ad40-83917ba84537",
            "data": {
                "map": {},
                "name": "py2table_to_drug_exposure",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_drug_exp"
                },
                "description": "Describe the task of node py2table_node_11",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1950,
                "y": 1590
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1950,
                "y": 1590
            }
        },
        {
            "id": "ca83c219-1ab9-44bf-9af6-c158e51f7214",
            "data": {
                "name": "validate_cdm_data_Obs",
                "error": false,
                "description": "Describe the task of node python_node_4",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"observation_date\",\n  \"observation_id\",\n  \"person_id\",\n  \"observation_type_concept_id\",\n  \"observation_concept_id\",\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_observation\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1410,
                "y": 1890
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1410,
                "y": 1890
            }
        },
        {
            "id": "cc4c773e-a0bd-4894-9908-00ad541c310d",
            "data": {
                "map": {},
                "name": "py2table_to_observation",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_Obs"
                },
                "description": "Describe the task of node py2table_node_12",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1980,
                "y": 1900
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1980,
                "y": 1900
            }
        },
        {
            "id": "43ad560c-fdba-43b6-9236-4baadb718c42",
            "data": {
                "name": "validate_cdm_data_proc_occ",
                "description": "Describe the task of node python_node_5",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"procedure_occurrence_id\",\n  \"person_id\",\n  \"procedure_concept_id\",\n  \"procedure_date\",\n  \"procedure_type_concept_id\"\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_procedure_occurrence\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n"
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1400,
                "y": 2200
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1400,
                "y": 2200
            }
        },
        {
            "id": "e8e268b6-3e03-4468-b386-5e00c6051ca1",
            "data": {
                "map": {},
                "name": "py2table_to_procedure_occurrence",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_proc_occ"
                },
                "description": "Describe the task of node py2table_node_13",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1990,
                "y": 2210
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1990,
                "y": 2210
            }
        },
        {
            "id": "861da43e-01e9-4eac-9136-2547228077f4",
            "data": {
                "map": {},
                "name": "py2table_to_visit_occurrence",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_vo"
                },
                "description": "Describe the task of node py2table_node_14",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1960,
                "y": 740
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1960,
                "y": 740
            }
        },
        {
            "id": "2d29943f-969e-4b33-b8a1-48b4172a7bdf",
            "data": {
                "name": "validate_cdm_data_co",
                "error": false,
                "description": "Describe the task of node python_node_7",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"condition_occurrence_id\",\n  \"person_id\",\n  \"condition_concept_id\",\n  \"condition_start_date\",\n  \"condition_type_concept_id\"\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_condition_occurrence\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1390,
                "y": 430
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1390,
                "y": 430
            }
        },
        {
            "id": "4fbeac17-add6-494f-a75a-4eed55d17c85",
            "data": {
                "map": {},
                "name": "py2table_to_condition_occurrence",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_co"
                },
                "description": "Describe the task of node py2table_node_15",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1950,
                "y": 420
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1950,
                "y": 420
            }
        },
        {
            "id": "0457459b-833a-4563-b702-807031462160",
            "data": {
                "name": "validate_cdm_data_person",
                "error": false,
                "description": "Describe the task of node python_node_8",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"person_id\",\n  \"gender_concept_id\",\n  \"year_of_birth\",\n  \"race_concept_id\",\n  \"ethnicity_concept_id\",\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_person\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1360,
                "y": 140
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1360,
                "y": 140
            }
        },
        {
            "id": "bdb6b7b0-f502-4406-9f66-cd0ac2e86ee5",
            "data": {
                "map": {},
                "name": "py2table_to_person",
                "error": false,
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data_person"
                },
                "description": "Describe the task of node py2table_node_16",
                "errorMessage": null
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1950,
                "y": 120
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1950,
                "y": 120
            }
        },
        {
            "id": "a06d966c-271c-4fe7-8fb2-e2c8443dd22e",
            "data": {
                "name": "validate_cdm_data",
                "error": false,
                "description": "Describe the task of node python_node_9",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"observation_date\",\n  \"observation_id\",\n  \"person_id\",\n  \"observation_type_concept_id\",\n  \"observation_concept_id\",\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_Observation\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1370,
                "y": -190
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1370,
                "y": -190
            }
        },
        {
            "id": "6b6a799b-4e67-47fc-8e1b-6050515bfcfe",
            "data": {
                "map": {},
                "name": "py2table_to_observation",
                "uiMap": {
                    "path": "$",
                    "source": "validate_cdm_data"
                },
                "description": "Describe the task of node py2table_node_17"
            },
            "type": "py2table_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1950,
                "y": -200
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1950,
                "y": -200
            }
        },
        {
            "id": "1c1853ac-6c80-41c3-8c02-c013f42c4917",
            "data": {
                "name": "validate_cdm_data_vo",
                "error": false,
                "description": "Describe the task of node python_node_9",
                "python_code": "import pandas as pd\n\nREQUIRED_COLS = [\n  \"visit_occurrence_id\",\n  \"person_id\",\n  \"visit_concept_id\",\n  \"visit_end_date\",\n  \"visit_start_date\",\n  \"visit_type_concept_id\",\n]\n\ndef exec(myinput):\n  df = myinput.get(\"transform_to_visit_occurrence\").result\n  valid_df = df.dropna(subset=REQUIRED_COLS)\n  return valid_df\n",
                "errorMessage": null
            },
            "type": "python_node",
            "width": 350,
            "height": 210,
            "dragging": false,
            "position": {
                "x": 1380,
                "y": 710
            },
            "selected": false,
            "dragHandle": "",
            "sourcePosition": "right",
            "targetPosition": "left",
            "positionAbsolute": {
                "x": 1380,
                "y": 710
            }
        }
    ],
    "variables": [],
    "importLibs": []
}
